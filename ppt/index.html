
<!DOCTYPE HTML>
<html>
<head>
<title>html5 canvas Arc</title>
<style>
body {margin: 0px;padding: 0px;}
</style>
<script>
var x = 100,
    y = 300,
    start_x,
    start_y,
    extent = 1,
    max_x = 1260,
    max_y = 800,
    STEP_PER = 100,
    DIS_PER = 100,
    canvas,
    ctx,
    steps,
    thread
    ;
function stepOn(right, up) {
   if (x < start_x + DIS_PER && y < start_y + DIS_PER ){
        sign_x = right ? 1 : -1;
        sign_y = up ? 1 : -1;
        ctx.beginPath();
        ctx.moveTo(x, y);
        x += extent * sign_x;
        y += extent * sign_y;
        ctx.lineTo(x, y);
        ctx.stroke();
        //steps++;   
        return;
   }
   thread && window.clearInterval(thread);
}
window.onload = function(){
    canvas = document.getElementById("myCanvas");
    ctx = canvas.getContext("2d");
};
document.onclick =  function () {
    steps = 0;
    start_x = x;
    start_y = y;
    thread = window.setInterval(function() {
        stepOn(true, Math.random()>0.5);
    }, 50);
};
</script>
</head>
<body>
    <canvas id="myCanvas" width="1280" height="600"></canvas>
</body>
</html>

