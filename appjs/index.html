<!DOCTYPE html>
<html>
  <head>
    <title>My App</title>
     <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <link rel="stylesheet" href="app.min.css">
    <style>
      /* TODO */
        .m-top { margin-top:20px!important;}
    </style>
  </head>

  <body>
    <div class="app-page" data-page="home">
      <div class="app-topbar">
        <div class="app-title">首页</div>
      </div>
      <div class="app-content">
        <div class="app-section">
            <!-- in your app-content -->
            <input type="search" class="app-input" placeholder="search"> <!-- will have search icon -->
        </div>
        <div class="app-button" data-target="page2">下一页</div>
      </div>
    </div>

    <div class="app-page" data-page="page2">
      <div class="app-topbar">
        <div class="app-button left" data-back data-autotitle></div>
        <div class="app-title">Page 2</div>
      </div>
      <div class="app-content">
        <div class="app-button left m-top" data-back>Back</div>
        <ul class="app-list m-top">
            <li>Item 1</li>
            <li>Item 2</li>
            <li>Item 3</li>
        </ul>
        <div class="app-button m-top" data-target="page3">下一页</div>
      </div>
    </div>
    <div class="app-page" data-page="page3">
      <div class="app-topbar">
        <div class="app-button left" data-back data-autotitle></div>
        <div class="app-title">Page 3</div>
        <ul class="app-list J-infinite-list">
            <li>Item 1</li>
            <li>Item 2</li>
            <li>Item 3</li>
            <li>Item 1</li>
            <li>Item 1</li>
            <li>Item 1</li>
            <li>Item 1</li>
            <li>Item 1</li>
        </ul>
      </div>
      <div class="app-content">
      </div>
    </div>
    <div class="app-page dark-page" data-page="viewer">
      <div class="app-topbar">
        <div class="left app-button" data-back data-autotitle></div>
        <div class="app-title">Viewer</div>
      </div>
      <div class="app-content"></div>
    </div>

    <script src="zepto.js"></script>
    <script src="app.min.js"></script>
    <script src="http://cdn.kik.com/photo-viewer/1/photo-viewer.js"></script>

    <script>
        App.controller('home', function (page) {
        });

        App.controller('page2', function (page) {
        });
        App.controller('page3', function (page) {
            App.infiniteScroll($(page).find('.J-infinite-list'), function (next) {
                // dynamically fetch data
                var list = ['abc'];
                // add html elements to list
            });
        });
        App.controller('viewer', function (page, data) {
          var photoViewer = new PhotoViewer(page, data.urls);
        });
        try {
            //App.restore();
            App.load('home', 'slide-left');
        } catch (err) {
        }
        App.dialog({
          title        : '确定要查看图片viewer？',
          text         : 'welcome!模仿mobile对话框',
          okButton     : 'OK',
          cancelButton : 'Cancel'
        }, function (tryAgain) {
          if (tryAgain) {
            // try again
            // to use the viewer
            App.load('viewer', {
              urls: [
                'http://p1.meituan.net/320.0.a/deal/__42258909__5537792.jpg',
                'http://p1.meituan.net/320.0.a/deal/__42899661__8681611.jpg',
                'http://p0.meituan.net/320.0.a/deal/__40728939__7589257.jpg'
              ]
            });
          }
        });
    </script>
  </body>
</html>
