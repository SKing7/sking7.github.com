<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="Movable Type  5.2.2" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="http://www.ruanyifeng.com/blog/styles.css" type="text/css" />
<link rel="start" href="http://www.ruanyifeng.com/blog/" title="Home" />
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="http://feeds.feedburner.com/ruanyifeng" />
<script type="text/javascript" src="http://www.ruanyifeng.com/blog/mt.js"></script>
<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="http://www.ruanyifeng.com/blog/2012/05/responsive_web_design.html">
<dc:title>自适应网页设计（Responsive Web Design）</dc:title>
<dc:description>随着3G的普及，越来越多的人使用手机上网。...</dc:description>
<dc:creator>阮一峰</dc:creator>
<dc:date>2012-05-01T14:57:01+08:00</dc:date>
<license rdf:resource="http://creativecommons.org/licenses/by-nc-nd/3.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-nc-nd/3.0/">
</License>
</rdf:RDF>
-->


    
    <link rel="prev bookmark" href="http://www.ruanyifeng.com/blog/2013/07/gpg.html" title="GPG入门教程" />
    <link rel="next bookmark" href="http://www.ruanyifeng.com/blog/2013/08/linux_boot_process.html" title="Linux 的启动流程" />
    
    <title>如何让搜索引擎抓取AJAX内容？ - 阮一峰的网络日志</title>
</head>
<body id="scrapbook" class="mt-entry-archive one-column" onload="individualArchivesOnLoad(commenter_name)">
    <div id="container">
        <div id="container-inner">

            <div id="header">
    <div id="header-inner">
        <div id="header-content">


            <div id="header-name">阮一峰的网络日志 <span id="site_location"> » <a href="http://www.ruanyifeng.com/blog/" accesskey="1">首页</a></span><span id="site_archive"> » <a href="http://www.ruanyifeng.com/blog/archives.html">档案</a></span>
</div>

<div id="google_search">
<!-- SiteSearch Google -->
<form action="http://www.ruanyifeng.com/blog/search.html" id="cse-search-box">
      <div>
        <input type="hidden" name="cx" value="016304377626642577906:b_e9skaywzq" />
    <input type="hidden" name="cof" value="FORID:11" />
    <input type="hidden" name="ie" value="UTF-8" />
        <input type="text" name="q" size="20" class="searchbox" id="sbi" value="" />
        <input type="image" src="/static/themes/theme_scrapbook/images/top_search_submit.gif" class="searchbox_submit" value="" alt="搜索" name="sa" />
      </div>
    </form>
<!-- SiteSearch Google -->
</div>
<div id="feed_icon">
<a href="/feed.html" title="订阅Feed">
<img src="http://www.feedburner.com/fb/images/pub/feed-icon32x32.png" alt="" style="border: 0pt none;" />
</a></div>

        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <div id="entry-1784" class="entry-asset asset hentry">
                                <div class="asset-header">
<div class="asset-nav entry-nav">

<div class="entry-location">
<ul>
<li>上一篇：<a href="http://www.ruanyifeng.com/blog/2013/07/gpg.html" title="GPG入门教程">GPG入门教程&nbsp;&nbsp;&nbsp;&nbsp;</a></li>
<li>下一篇：<a href="http://www.ruanyifeng.com/blog/2013/08/linux_boot_process.html" title="Linux 的启动流程">Linux&nbsp;的启动流程</a></li>
</ul>
</div>



    
                                    <div class="entry-categories">
                                        <p>分类<span class="delimiter">：</span></p>
                                        <ul>
                                            <li><a href="http://www.ruanyifeng.com/blog/it/javascript/" rel="tag">JavaScript</a></li>
                                        </ul>
                                    </div>
    



                                            
</div>
                                </div>
<article class="hentry">
                                    <h1 id="page-title" class="asset-name entry-title">如何让搜索引擎抓取AJAX内容？</h1>
                                            <div id="share_button" style="float:right;padding-right:2em;padding-top:1em;"></div>
                                    <div class="asset-meta">
                                        

                                            <p class="vcard author">作者： <a class="fn url" href="http://www.ruanyifeng.com">阮一峰</a></p>

<p>日期： <a href="http://www.ruanyifeng.com/blog/2013/07/"><abbr class="published" title="2013-07-16T11:32:47+08:00">2013年7月16日</abbr></a></p>



                                    </div>
                                
                                <div class="asset-content entry-content" id="main-content">

                                    <!-- div class="asset-body" -->
                                        <p>越来越多的网站，开始采用<a href="http://en.wikipedia.org/wiki/Single-page_application">"单页面结构"</a>（Single-page application）。</p>
                                    <!-- /div -->


                                    <!-- div id="more" class="asset-more" -->
                                        <p>整个网站只有一张网页，采用<a href="http://zh.wikipedia.org/wiki/AJAX">Ajax</a>技术，根据用户的输入，加载不同的内容。</p>

<p><img src="http://image.beekka.com/blog/201307/bg2013071603.jpg" /></p>

<p>这种做法的好处是用户体验好、节省流量，缺点是AJAX内容无法被搜索引擎抓取。举例来说，你有一个网站。</p>

<blockquote><pre><code class="language-bash">
　　http://example.com  
　　
</code></pre></blockquote>

<p>用户通过<a href="http://www.ruanyifeng.com/blog/2011/03/url_hash.html">井号结构</a>的URL，看到不同的内容。</p>

<blockquote><pre><code class="language-bash">
　　http://example.com#1
　　http://example.com#2
　　http://example.com#3  
　　
</code></pre></blockquote>

<p>但是，搜索引擎只抓取example.com，不会理会井号，因此也就无法索引内容。</p>

<p>为了解决这个问题，Google提出了"井号+感叹号"的结构。</p>

<blockquote><pre><code class="language-bash">
　　http://example.com#!1
　　
</code></pre></blockquote>

<p>当Google发现上面这样的URL，就自动抓取另一个网址：</p>

<blockquote><pre><code class="language-bash">
　　http://example.com/?_escaped_fragment_=1
　　
</code></pre></blockquote>

<p>只要你把AJAX内容放在这个网址，Google就会收录。但是问题是，"井号+感叹号"非常难看且烦琐。Twitter曾经采用这种结构，它把</p>

<blockquote><pre><code class="language-bash">
　　http://twitter.com/ruanyf
　　
</code></pre></blockquote>

<p>改成</p>

<blockquote><pre><code class="language-bash">
　　http://twitter.com/#!/ruanyf
　　
</code></pre></blockquote>

<p>结果用户抱怨连连，只用了半年就废除了。</p>

<p>那么，有没有什么方法，可以在保持比较直观的URL的同时，还让搜索引擎能够抓取AJAX内容？</p>

<p>我一直以为没有办法做到，直到前两天看到了<a href="http://www.discourse.org/">Discourse</a>创始人之一的<a href="http://eviltrout.com/2013/06/19/adding-support-for-search-engines-to-your-javascript-applications.html">Robin Ward</a>的解决方法，不禁拍案叫绝。</p>

<p><img src="http://image.beekka.com/blog/201307/bg2013071602.png" /></p>

<p>Discourse是一个论坛程序，严重依赖Ajax，但是又必须让Google收录内容。它的解决方法就是放弃井号结构，采用 <a href="http://html5doctor.com/history-api/">History API</a>。</p>

<p>所谓 History API，指的是不刷新页面的情况下，改变浏览器地址栏显示的URL(准确说，是改变网页的当前状态)。这里有一个<a href="http://inserthtml.com/demo/history/">例子</a>，你点击上方的按钮，开始播放音乐。然后，再点击下面的链接，看看发生了什么事？</p>

<p><a href="http://inserthtml.com/demo/history/"><img src="http://image.beekka.com/blog/201307/bg2013071601.png" /></a></p>

<p>地址栏的URL变了，但是音乐播放没有中断！</p>

<p>History API 的详细介绍，超出这篇文章的范围。这里只简单说，它的作用就是在浏览器的History对象中，添加一条记录。</p>

<blockquote><pre><code class="language-javascript">
　　window.history.pushState(state object, title, url);
　　
</code></pre></blockquote>

<p>上面这行命令，可以让地址栏出现新的URL。History对象的pushState方法接受三个参数，新的URL就是第三个参数，前两个参数都可以是null。</p>

<blockquote><pre><code class="language-javascript">
　　window.history.pushState(null, null, newURL); 
　　
</code></pre></blockquote>

<p>目前，各大浏览器都支持这个方法：Chrome（26.0+），Firefox（20.0+），IE（10.0+），Safari（5.1+），Opera（12.1+）。</p>

<p>下面就是Robin Ward的方法。</p>

<p><strong>首先，用History API替代井号结构，让每个井号都变成正常路径的URL，这样搜索引擎就会抓取每一个网页。</strong></p>

<blockquote><pre><code class="language-bash">
　　example.com/1
　　example.com/2
　　example.com/3
　　
</code></pre></blockquote>

<p><strong>然后，定义一个JavaScript函数，处理Ajax部分，根据网址抓取内容（假定使用jQuery）。</strong></p>

<blockquote><pre><code class="language-javascript">
　　function anchorClick(link) {
　　　　var linkSplit = link.split('/').pop();
　　　　$.get('api/' + linkSplit, function(data) {
　　　　　　$('#content').html(data);
　　　　});
　　}
　　
</code></pre></blockquote>

<p>再定义鼠标的click事件。</p>

<blockquote><pre><code class="language-javascript">
　　$('#container').on('click', 'a', function(e) {
　　　　window.history.pushState(null, null, $(this).attr('href'));
　　　　anchorClick($(this).attr('href'));
　　　　e.preventDefault();
　　});
　　
</code></pre></blockquote>

<p>还要考虑到用户点击浏览器的"前进 / 后退"按钮。这时会触发History对象的popstate事件。</p>

<blockquote><pre><code class="language-javascript">
　　window.addEventListener('popstate', function(e) {     
　　　　anchorClick(location.pathname); 	
 　　});
　　
</code></pre></blockquote>

<p>定义完上面三段代码，就能在不刷新页面的情况下，显示正常路径URL和AJAX内容。</p>

<p><strong>最后，设置服务器端。</strong></p>

<p>因为不使用井号结构，每个URL都是一个不同的请求。所以，要求服务器端对所有这些请求，都返回如下结构的网页，防止出现404错误。</p>

<blockquote><pre><code class="language-markup">
　　&lt;html&gt;
　　　　&lt;body&gt;
　　　　　　&lt;section id='container'&gt;&lt;/section&gt;
　　　　　　&lt;noscript&gt;
　　　　　　　　... ...
 　　　　　　&lt;/noscript&gt;
　　　　&lt;/body&gt;
　　&lt;/html&gt;
　　
</code></pre></blockquote>

<p>仔细看上面这段代码，你会发现有一个noscript标签，这就是奥妙所在。</p>

<p>我们把所有要让搜索引擎收录的内容，都放在noscript标签之中。这样的话，用户依然可以执行AJAX操作，不用刷新页面，但是搜索引擎会收录每个网页的主要内容！</p>

<p>===================================</p>

<p>[通知]</p>

<p>接下来三周，我外出旅行，暂停更新网志。</p>

<p>大家可以从 <a href="http://www.ruanyifeng.com/tweets/">http://www.ruanyifeng.com/tweets/</a>，了解我的行程。欢迎关注。</p>

<p>（完）<br />
</p>
                                    <!-- /div -->

                                </div>
    <script type="text/javascript" src="/newwindow.js"></script>
                                <div class="asset-footer">

<h3>文档信息</h3>
<ul>
<li>版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">Creative Commons BY-NC-ND 3.0</a></li>
<li>原文网址：<a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html">http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html</a></li>
<li>最后修改时间：2013年9月29日 16:54</li>
<li>付费支持：<a href="https://me.alipay.com/ruanyf" target="_blank"><img src="http://www.ruanyifeng.com/blog/images/rmb_32.png" title="人民币" alt="人民币 - 支付宝" style="border:none;vertical-align:middle;" /></a> | <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&amp;business=yifeng.ruan@gmail.com&amp;currency_code=USD&amp;amount=0.99&amp;return=http://www.ruanyifeng.com/thank.html&amp;item_name=Ruan%20YiFeng's%20Blog&amp;undefined_quantity=1&amp;no_note=0" target="_blank"><img src="http://www.ruanyifeng.com/blog/images/dollar_32.png" alt="美元 - paypal" title="美元" style="border:none;vertical-align:middle;" /></a> </li>
</ul>
                                </div>
</article>
                            </div>
   <div id="gegz1">
   <p style="text-align:center;"><a href="http://www.hi-vps.com/?utm_source=ruanyifeng.com" target="_blank"><img src="http://www.ruanyifeng.com/blog/images/ad_hivps.jpg" style="border:none;" /></a></p>
</div>
<div id="related_entries">
<h2>相关文章</h2>
<ul>

<li><strong>2013.09.02: <a href="http://www.ruanyifeng.com/blog/2013/09/finite-state_machine_for_javascript.html">JavaScript与有限状态机</a></strong>

                           <div class="entry-body">
                              有限状态机（Finite-state machine）是一个非常有用的模型，可以模拟世界上大部分事物。
                           </div>

</li>

 
<li><strong>2013.05.11: <a href="http://www.ruanyifeng.com/blog/2013/05/jquery-free.html">如何做到 jQuery-free？</a></strong>

                           <div class="entry-body">
                              jQuery是现在最流行的JavaScript工具库。
                           </div>

</li>

 
</ul>
</div>

<div id="entry_utility">
<h2>功能链接</h2>
<ul>
<li><strong>前一篇：</strong><a href="http://www.ruanyifeng.com/blog/2013/07/gpg.html">GPG入门教程</a> </li>
<li><strong>后一篇：</strong><a href="http://www.ruanyifeng.com/blog/2013/08/linux_boot_process.html">Linux 的启动流程</a></li>
<li><strong>更多内容请访问：</strong><span class="homepage"><a href="http://www.ruanyifeng.com/blog/">首页</a></span>  » <a href="http://www.ruanyifeng.com/blog/archives.html">档案</a>  » 
<a href="http://www.ruanyifeng.com/blog/it/javascript/">JavaScript</a> 
</li>

<li>
<!-- SiteSearch Google -->
<form method="get" action="/blog/search.html" target="_top" name="google_search">
<input type="hidden" name="domains" value="www.ruanyifeng.com" />
<strong>站内搜索：</strong><input type="text" name="q" style="width:250px;" maxlength="255" value="ajax" />
<input type="submit" name="sa" value="GO！" />
<span style="display:none;"><input type="radio" name="sitesearch" value="" />
<font size="-1" color="#000000">Web</font>
<input type="radio" name="sitesearch" value="www.ruanyifeng.com" checked="checked" />
<font size="-1" color="#000000">www.ruanyifeng.com</font>
</span>

<input type="hidden" name="cx" value="016304377626642577906:b_e9skaywzq" />
<input type="hidden" name="cof" value="FORID:11" />
<input type="hidden" name="ie" value="UTF-8" />
</form>
<!-- SiteSearch Google -->
</li>
<li><strong>Feed订阅：</strong>  <a href="http://feeds.feedburner.com/ruanyifeng" target="_blank"><img src="http://www.ruanyifeng.com/blog/images/rss.png" height="16" width="16" /></a></li>
</ul>
</div>

<div id="googlead1">
<h2>广告<a href="/ads.html">（购买广告位）</a></h2>
<div id="googlead1-inner">
<a href="http://www.ushan.cn/?act=suit" target="_blank"><image src="http://www.ruanyifeng.com/blog/images/ad_ushan_600.jpg" style="border:none;"></image></a>

<div id="googlead1-left">
</div>
<div id="googlead1-right">


</div>
</div>
</div>

                    

                    <div id="comments" class="comments">


    
    
        
    <h2 class="comments-header">留言（43条）</h2>

    <div id="comments-content" class="comments-content" style="clear: left;">
        
        <div id="comment-272662" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://feinfo.duapp.com" href="http://feinfo.duapp.com" target="_blank" rel="nofollow">artwl</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272662">
            <p>非常棒，只是不知道IE7~9有没有什么方案</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272662"><abbr class="published" title="2013-07-16T12:56:07+08:00">2013年7月16日 12:56</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/artwl.html" title="artwl的全部留言">档案</a> 
 | <a href="#comment-text" title="引用artwl的这条留言" onclick="return CommentQuote('comment-quote-272662','artwl');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272665" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">Gaubee</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272665">
            <blockquote>
<pre>引用artwl的发言：</pre>

<p>非常棒，只是不知道IE7~9有没有什么方案</p>

</blockquote>

<p>这IE7~9只能直接跳转页面了，但能保证页面正常显示而已……我觉得既然已经可以被SEO抓取到，那么完全可以两套方案一起上。IE6+不支持History API的可以直接用Hash搞。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272665"><abbr class="published" title="2013-07-16T13:17:41+08:00">2013年7月16日 13:17</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Gaubee.html" title="Gaubee的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Gaubee的这条留言" onclick="return CommentQuote('comment-quote-272665','Gaubee');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272669" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">tom</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272669">
            <p>之前做过类似的东西. 每个link都是真正完整的url, 你直接在新窗口打开url的时候, 是看到完整的跟url对应的页面的. 但是如果用户点击这个link, 事件会被javascript截获, ajax去load内容然后加载. <br />
好处就是所有的浏览器都可以支持.<br />
坏处就是内容变了url没有更新.</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272669"><abbr class="published" title="2013-07-16T14:58:17+08:00">2013年7月16日 14:58</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/tom.html" title="tom的全部留言">档案</a> 
 | <a href="#comment-text" title="引用tom的这条留言" onclick="return CommentQuote('comment-quote-272669','tom');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272672" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://fanfou.com/ruif" href="http://fanfou.com/ruif" target="_blank" rel="nofollow">riophae</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272672">
            <p>搜索引擎并没有解析 JavaScript 啊. 我觉得搜索引擎的未来是完全收录 JavaScript 生成的内容.</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272672"><abbr class="published" title="2013-07-16T19:41:43+08:00">2013年7月16日 19:41</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/riophae.html" title="riophae的全部留言">档案</a> 
 | <a href="#comment-text" title="引用riophae的这条留言" onclick="return CommentQuote('comment-quote-272672','riophae');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272675" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://www.nenew.net" href="http://www.nenew.net" target="_blank" rel="nofollow">奶牛</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272675">
            <p>这个方法真的非常赞，就是得多套方案来保证兼容性哇~~~</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272675"><abbr class="published" title="2013-07-16T22:27:53+08:00">2013年7月16日 22:27</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/奶牛.html" title="奶牛的全部留言">档案</a> 
 | <a href="#comment-text" title="引用奶牛的这条留言" onclick="return CommentQuote('comment-quote-272675','奶牛');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272676" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://imoshui.blog.163.com" href="http://imoshui.blog.163.com" target="_blank" rel="nofollow">墨水</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272676">
            <p>很赞的说，同LS所说，兼容性要考虑~~</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272676"><abbr class="published" title="2013-07-16T23:45:07+08:00">2013年7月16日 23:45</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/墨水.html" title="墨水的全部留言">档案</a> 
 | <a href="#comment-text" title="引用墨水的这条留言" onclick="return CommentQuote('comment-quote-272676','墨水');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272680" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://blog.likelikeslike.com" href="http://blog.likelikeslike.com" target="_blank" rel="nofollow">Jak Wings</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272680">
            <p>不错，这样就不怕影响到文章内容中的标题或脚注的 anchor 了。祝旅途愉快～<br />
准备给自己的博客改装！</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272680"><abbr class="published" title="2013-07-17T00:04:07+08:00">2013年7月17日 00:04</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Jak Wings.html" title="Jak Wings的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Jak Wings的这条留言" onclick="return CommentQuote('comment-quote-272680','Jak Wings');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272685" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://www.07q.net" href="http://www.07q.net" target="_blank" rel="nofollow">dcxy0</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272685">
            <p>非常不错，学习一下。有时候也在思考这个问题，看到这个的确眼前一亮啊。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272685"><abbr class="published" title="2013-07-17T01:43:48+08:00">2013年7月17日 01:43</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/dcxy0.html" title="dcxy0的全部留言">档案</a> 
 | <a href="#comment-text" title="引用dcxy0的这条留言" onclick="return CommentQuote('comment-quote-272685','dcxy0');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272695" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://aminby.net" href="http://aminby.net" target="_blank" rel="nofollow">Aminby</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272695">
            <p>又学到新知识了。谢谢。旅途愉快</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272695"><abbr class="published" title="2013-07-17T09:33:21+08:00">2013年7月17日 09:33</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Aminby.html" title="Aminby的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Aminby的这条留言" onclick="return CommentQuote('comment-quote-272695','Aminby');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272698" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">AB_AAB</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272698">
            <p>订阅阮大哥日志真是百利无害啊，越来越喜欢。每篇新文章都会认真读，受益匪浅。<br />
有时间会读一下算法相关的文章。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272698"><abbr class="published" title="2013-07-17T10:05:12+08:00">2013年7月17日 10:05</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/AB_AAB.html" title="AB_AAB的全部留言">档案</a> 
 | <a href="#comment-text" title="引用AB_AAB的这条留言" onclick="return CommentQuote('comment-quote-272698','AB_AAB');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272699" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">weedge</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272699">
            <p>网易的云音乐不知道是不是这么弄的呢？？？</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272699"><abbr class="published" title="2013-07-17T10:09:14+08:00">2013年7月17日 10:09</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/weedge.html" title="weedge的全部留言">档案</a> 
 | <a href="#comment-text" title="引用weedge的这条留言" onclick="return CommentQuote('comment-quote-272699','weedge');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272701" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">山荣</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272701">
            <p>url改变后，再刷新貌似就会出问题吧。请求就丢了</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272701"><abbr class="published" title="2013-07-17T11:52:38+08:00">2013年7月17日 11:52</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/山荣.html" title="山荣的全部留言">档案</a> 
 | <a href="#comment-text" title="引用山荣的这条留言" onclick="return CommentQuote('comment-quote-272701','山荣');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272707" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">熊猫</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272707">
            <p>设置服务器端是必要的么？是不是只设置window.history.pushState(state object, title, url);搜索引擎就会收录地址栏中变换的地址对应的内容？</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272707"><abbr class="published" title="2013-07-17T17:22:45+08:00">2013年7月17日 17:22</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/熊猫.html" title="熊猫的全部留言">档案</a> 
 | <a href="#comment-text" title="引用熊猫的这条留言" onclick="return CommentQuote('comment-quote-272707','熊猫');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272708" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">啊啊啊啊</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272708">
            <p>网易的云音乐用的是iframe</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272708"><abbr class="published" title="2013-07-17T18:05:27+08:00">2013年7月17日 18:05</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/啊啊啊啊.html" title="啊啊啊啊的全部留言">档案</a> 
 | <a href="#comment-text" title="引用啊啊啊啊的这条留言" onclick="return CommentQuote('comment-quote-272708','啊啊啊啊');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272726" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://blog.likelikeslike.com" href="http://blog.likelikeslike.com" target="_blank" rel="nofollow">Jak Wings</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272726">
            <blockquote>
<pre>引用熊猫的发言：</pre>

<p>设置服务器端是必要的么？是不是只设置window.history.pushState(state object, title, url);搜索引擎就会收录地址栏中变换的地址对应的内容？</p>

</blockquote>

<p>服务器端必需保持原来的设置，不是单靠 API 就能搞定的，即是说人们还是可以直接通过访问 URL 且不需要开启 Javascript 就能获得页面内容。然后再给页面内的链接添加点击事件来在当前页面动态载入其它内容，顺便用 API 改变地址栏 URL 和修改访问记录。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272726"><abbr class="published" title="2013-07-18T04:35:46+08:00">2013年7月18日 04:35</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Jak Wings.html" title="Jak Wings的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Jak Wings的这条留言" onclick="return CommentQuote('comment-quote-272726','Jak Wings');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272731" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">dyllen</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272731">
            <p>我看了一遍，没怎么看明白啊！可能是因为我不懂seo吧！</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272731"><abbr class="published" title="2013-07-18T11:37:22+08:00">2013年7月18日 11:37</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/dyllen.html" title="dyllen的全部留言">档案</a> 
 | <a href="#comment-text" title="引用dyllen的这条留言" onclick="return CommentQuote('comment-quote-272731','dyllen');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272732" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">Du</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272732">
            <p>很赞啊，移动上webapp和原生app相比，体验的很关键一点是流畅，无刷新在手机的浏览器里体验很流畅，再配合响应式设计，web又能跨平台，容易更新维护，以后浏览器的升级，兼容性更好的话，web似乎更值得做</p>

<p>另祝旅途愉快</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272732"><abbr class="published" title="2013-07-18T13:15:03+08:00">2013年7月18日 13:15</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Du.html" title="Du的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Du的这条留言" onclick="return CommentQuote('comment-quote-272732','Du');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272734" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://163pinglun.com" href="http://163pinglun.com" target="_blank" rel="nofollow">holyzfy</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272734">
            <blockquote>
<pre>引用tom的发言：</pre>
...
坏处就是内容变了url没有更新.

</blockquote>
为什么说这条是坏处呢，不解。
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272734"><abbr class="published" title="2013-07-18T15:39:04+08:00">2013年7月18日 15:39</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/holyzfy.html" title="holyzfy的全部留言">档案</a> 
 | <a href="#comment-text" title="引用holyzfy的这条留言" onclick="return CommentQuote('comment-quote-272734','holyzfy');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272742" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">imlgsh</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272742">
            <p>土耳其，土耳其，回来谈谈旅行的感受</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272742"><abbr class="published" title="2013-07-18T19:48:36+08:00">2013年7月18日 19:48</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/imlgsh.html" title="imlgsh的全部留言">档案</a> 
 | <a href="#comment-text" title="引用imlgsh的这条留言" onclick="return CommentQuote('comment-quote-272742','imlgsh');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272749" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://lilydjwg.is-programmer.com/" href="http://lilydjwg.is-programmer.com/" target="_blank" rel="nofollow">依云</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272749">
            <p>github、bitbucket 和现在的 twitter 都是这样做的。我也曾做过这种东西。<br />
还记得从火狐 3.6 迁移到火狐 4 时，发现 github 上点链接不会整个页面刷新了呢。</p>

<p>不过有个小问题：火狐和 Chrome 不一样，有一个在页面加载时就触发 popstate 事件，另一个没有。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272749"><abbr class="published" title="2013-07-19T13:28:56+08:00">2013年7月19日 13:28</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/依云.html" title="依云的全部留言">档案</a> 
 | <a href="#comment-text" title="引用依云的这条留言" onclick="return CommentQuote('comment-quote-272749','依云');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272773" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">wang</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272773">
            <blockquote>
<pre>引用weedge的发言：</pre>

<p>网易的云音乐不知道是不是这么弄的呢？？？</p>

</blockquote>

<p>iframe的</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272773"><abbr class="published" title="2013-07-20T17:07:24+08:00">2013年7月20日 17:07</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/wang.html" title="wang的全部留言">档案</a> 
 | <a href="#comment-text" title="引用wang的这条留言" onclick="return CommentQuote('comment-quote-272773','wang');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272774" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">wang</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272774">
            <p>其实文章要说的和标题有些偏。 </p>

<p>标题， 如何让搜索引擎抓取ajax内容。 <br />
文章， 如何拦截掉a标签的链接跳转， ajax load内容， 同时改变url。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272774"><abbr class="published" title="2013-07-20T17:08:46+08:00">2013年7月20日 17:08</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/wang.html" title="wang的全部留言">档案</a> 
 | <a href="#comment-text" title="引用wang的这条留言" onclick="return CommentQuote('comment-quote-272774','wang');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272775" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">wang</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272775">
            <blockquote>
<pre>引用holyzfy的发言：</pre>

<p><br />
为什么说这条是坏处呢，不解。</p>

</blockquote>

<p>ajax load部分内容不改变url被认为是友好体验。 但是load 网页大部分内容又不改变url， 这样用户无法复制分享传播当前所见内容的url</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272775"><abbr class="published" title="2013-07-20T17:10:16+08:00">2013年7月20日 17:10</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/wang.html" title="wang的全部留言">档案</a> 
 | <a href="#comment-text" title="引用wang的这条留言" onclick="return CommentQuote('comment-quote-272775','wang');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272777" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">whiletrue</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272777">
            <p>这个不是rooter的概念吗，把网站设计为restfull风格就是了<br />
</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272777"><abbr class="published" title="2013-07-21T10:00:59+08:00">2013年7月21日 10:00</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/whiletrue.html" title="whiletrue的全部留言">档案</a> 
 | <a href="#comment-text" title="引用whiletrue的这条留言" onclick="return CommentQuote('comment-quote-272777','whiletrue');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272778" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://www.bokeyy.com/" href="http://www.bokeyy.com/" target="_blank" rel="nofollow">袁源</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272778">
            <p>这个方法弱爆了啊 onclick 可以 preventDefualt 的，所以想怎么来就怎么来么么</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272778"><abbr class="published" title="2013-07-21T10:20:57+08:00">2013年7月21日 10:20</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/袁源.html" title="袁源的全部留言">档案</a> 
 | <a href="#comment-text" title="引用袁源的这条留言" onclick="return CommentQuote('comment-quote-272778','袁源');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272794" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">照常生活</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272794">
            <p>想问一下，我在多看阅读购买了《黑客与画家》，您能收到稿酬吗？</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272794"><abbr class="published" title="2013-07-23T08:40:35+08:00">2013年7月23日 08:40</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/照常生活.html" title="照常生活的全部留言">档案</a> 
 | <a href="#comment-text" title="引用照常生活的这条留言" onclick="return CommentQuote('comment-quote-272794','照常生活');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272795" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">阮一峰</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272795">
            <blockquote>
<pre>引用照常生活的发言：</pre>

<p>想问一下，我在多看阅读购买了《黑客与画家》，您能收到稿酬吗？</p>

</blockquote>

<p>不能。译者没有版税，只有一次性的翻译费。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272795"><abbr class="published" title="2013-07-23T10:39:26+08:00">2013年7月23日 10:39</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/阮一峰.html" title="阮一峰的全部留言">档案</a> 
 | <a href="#comment-text" title="引用阮一峰的这条留言" onclick="return CommentQuote('comment-quote-272795','阮一峰');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272796" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">gd</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272796">
            <p>国外好多都在用了<br />
问题是pushState 在国内ie6-9的年代 完全不适用</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272796"><abbr class="published" title="2013-07-23T11:56:30+08:00">2013年7月23日 11:56</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/gd.html" title="gd的全部留言">档案</a> 
 | <a href="#comment-text" title="引用gd的这条留言" onclick="return CommentQuote('comment-quote-272796','gd');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272829" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://50vip.com/" href="http://50vip.com/" target="_blank" rel="nofollow">红色石头</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272829">
            <p>愚见：pjax似乎也可以做这个功能~</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272829"><abbr class="published" title="2013-07-26T12:32:15+08:00">2013年7月26日 12:32</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/红色石头.html" title="红色石头的全部留言">档案</a> 
 | <a href="#comment-text" title="引用红色石头的这条留言" onclick="return CommentQuote('comment-quote-272829','红色石头');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272834" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">elarity</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272834">
            <blockquote>
<pre>引用holyzfy的发言：</pre>

<p><br />
为什么说这条是坏处呢，不解。</p>

</blockquote>

<p>我也不解。。 。。。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272834"><abbr class="published" title="2013-07-26T18:24:04+08:00">2013年7月26日 18:24</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/elarity.html" title="elarity的全部留言">档案</a> 
 | <a href="#comment-text" title="引用elarity的这条留言" onclick="return CommentQuote('comment-quote-272834','elarity');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272883" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">s</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272883">
            <blockquote>
<pre>引用artwl的发言：</pre>

<p>非常棒，只是不知道IE7~9有没有什么方案</p>

</blockquote>

<p>IE 8 and 9: hashchange event...<br />
IE 6 and 7: I've no idea but just do what links should do...</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272883"><abbr class="published" title="2013-07-30T13:51:57+08:00">2013年7月30日 13:51</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/s.html" title="s的全部留言">档案</a> 
 | <a href="#comment-text" title="引用s的这条留言" onclick="return CommentQuote('comment-quote-272883','s');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272926" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">Chon</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272926">
            <p>很早github就已经使用这个方法了</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272926"><abbr class="published" title="2013-08-04T20:53:37+08:00">2013年8月 4日 20:53</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Chon.html" title="Chon的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Chon的这条留言" onclick="return CommentQuote('comment-quote-272926','Chon');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272947" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">rongmic</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272947">
            <blockquote>
<pre>引用红色石头的发言：</pre>

<p>愚见：pjax似乎也可以做这个功能~</p>

</blockquote>

<p>pjax就是pushState+ajax</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272947"><abbr class="published" title="2013-08-05T14:40:09+08:00">2013年8月 5日 14:40</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/rongmic.html" title="rongmic的全部留言">档案</a> 
 | <a href="#comment-text" title="引用rongmic的这条留言" onclick="return CommentQuote('comment-quote-272947','rongmic');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272978" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://blog.netsh.org" href="http://blog.netsh.org" target="_blank" rel="nofollow">Net's H</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272978">
            <p>/#!/方法对于不支持hashchange的浏览器怎么办呢。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272978"><abbr class="published" title="2013-08-08T21:28:07+08:00">2013年8月 8日 21:28</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Net's H.html" title="Net's H的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Net's H的这条留言" onclick="return CommentQuote('comment-quote-272978','Net's H');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-272987" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">erji</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-272987">
            <p>转的那篇文章之前看过 需要server权限pass</p>

<p>当时正写了个ajax全站shop <a href="http://goo.gl/LPuII" rel="nofollow">http://goo.gl/LPuII</a></p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-272987"><abbr class="published" title="2013-08-10T10:40:42+08:00">2013年8月10日 10:40</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/erji.html" title="erji的全部留言">档案</a> 
 | <a href="#comment-text" title="引用erji的这条留言" onclick="return CommentQuote('comment-quote-272987','erji');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-273012" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">革命的小蘑菇医生</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-273012">
            <p>阮先生您好，我是一位重症医学科的医生，大概6年前无意间看到您的博客，觉得非常好，就一直追着看。一眨眼，看了6年了，感觉时间过得好长，也感觉您的博客的内容越来越高深了，逐渐看不懂了。衷心祝愿您在取得更大的成就的同时，务必注意身体健康！！！即使看不懂，也还要追着看。哈哈。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-273012"><abbr class="published" title="2013-08-11T21:27:59+08:00">2013年8月11日 21:27</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/革命的小蘑菇医生.html" title="革命的小蘑菇医生的全部留言">档案</a> 
 | <a href="#comment-text" title="引用革命的小蘑菇医生的这条留言" onclick="return CommentQuote('comment-quote-273012','革命的小蘑菇医生');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-273043" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://还没有" href="http://还没有" target="_blank" rel="nofollow">IT菜鸟</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-273043">
            <p>一峰，虽然你不认识我，但是我关注你很久了。<br />
你翻译的书黑客与画家还有软件随想录，翻译的特别棒<br />
我也很赞成你收费文章的想法，我也愿意为你的文章付费。<br />
知识是无价之宝。每次读你的文章犹如醍醐灌顶。<br />
朋友加油！有一批认同你的粉丝。坚持对的。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-273043"><abbr class="published" title="2013-08-14T07:59:53+08:00">2013年8月14日 07:59</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/IT菜鸟.html" title="IT菜鸟的全部留言">档案</a> 
 | <a href="#comment-text" title="引用IT菜鸟的这条留言" onclick="return CommentQuote('comment-quote-273043','IT菜鸟');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-273210" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://blog.sharehp.net" href="http://blog.sharehp.net" target="_blank" rel="nofollow">Edwin</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-273210">
            <p>感谢你的分享，History API是一个很不错的解决方案啊。。。。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-273210"><abbr class="published" title="2013-08-23T18:20:15+08:00">2013年8月23日 18:20</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Edwin.html" title="Edwin的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Edwin的这条留言" onclick="return CommentQuote('comment-quote-273210','Edwin');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-273247" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://ev.an" href="http://ev.an" target="_blank" rel="nofollow">Evan</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-273247">
            <p>用this.href比用$(this).attr('href')更高效</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-273247"><abbr class="published" title="2013-08-25T22:00:46+08:00">2013年8月25日 22:00</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Evan.html" title="Evan的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Evan的这条留言" onclick="return CommentQuote('comment-quote-273247','Evan');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-273612" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">....</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-273612">
            <blockquote>
<pre>引用wang的发言：</pre>

<p></p>

<p>ajax load部分内容不改变url被认为是友好体验。 但是load 网页大部分内容又不改变url， 这样用户无法复制分享传播当前所见内容的url</p>

</blockquote>

<p>你没看明白 用history api  url是会变的</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-273612"><abbr class="published" title="2013-09-05T13:56:57+08:00">2013年9月 5日 13:56</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/.....html" title="....的全部留言">档案</a> 
 | <a href="#comment-text" title="引用....的这条留言" onclick="return CommentQuote('comment-quote-273612','....');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-273950" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://www.cnblogs.com/meteoric_cry" href="http://www.cnblogs.com/meteoric_cry" target="_blank" rel="nofollow">Meteoric_cry</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-273950">
            <p>github.com 就是用这种机制实现的</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-273950"><abbr class="published" title="2013-09-09T17:28:26+08:00">2013年9月 9日 17:28</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Meteoric_cry.html" title="Meteoric_cry的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Meteoric_cry的这条留言" onclick="return CommentQuote('comment-quote-273950','Meteoric_cry');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-274174" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="http://ajaxjs.com" href="http://ajaxjs.com" target="_blank" rel="nofollow">sp42</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-274174">
            <p>History API很拍案叫绝么？</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-274174"><abbr class="published" title="2013-09-13T01:13:54+08:00">2013年9月13日 01:13</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/sp42.html" title="sp42的全部留言">档案</a> 
 | <a href="#comment-text" title="引用sp42的这条留言" onclick="return CommentQuote('comment-quote-274174','sp42');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-274401" class="comment">
    <div id="comment-last" class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">Lukas</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-274401">
            <p>如果服务器对这些请求返回的是这样的结构，那我刷新不是没用了？</p>

<p>按我的理解，应该是如果只是异步操作，那么使用ajax改变内容，同时改变url。</p>

<p>但如果直接访问该url(改变后的url)，那么服务器不是应该返回完整的相同页面么？为什么返回文中所示的结构？？</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <a href="http://www.ruanyifeng.com/blog/2013/07/how_to_make_search_engines_find_ajax_content.html#comment-274401"><abbr class="published" title="2013-09-15T23:34:34+08:00">2013年9月15日 23:34</abbr></a>
 | <a href="http://www.ruanyifeng.com/blog/user/Lukas.html" title="Lukas的全部留言">档案</a> 
 | <a href="#comment-text" title="引用Lukas的这条留言" onclick="return CommentQuote('comment-quote-274401','Lukas');">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    </div>
        
    


    
    
    <div class="comments-open" id="comments-open">
        <h2 class="comments-open-header">我要发表看法</h2>
        <div class="comments-open-content">

        
            <div id="comment-greeting"></div>

            <form method="post" action="http://www.ruanyifeng.com/cgi-bin/mtos/mt-comments.cgi" name="comments_form" id="comments-form" onsubmit="return pleaseWait();">
                <input type="hidden" name="static" value="1" />
                <input type="hidden" name="entry_id" value="1784" />
                <input type="hidden" name="__lang" value="en" />
                <input type="hidden" name="parent_id" value="" id="comment-parent-id" />
                <input type="hidden" name="armor" value="1" />
                <input type="hidden" name="preview" value="" />
                <input type="hidden" name="sid" value="" />
                <div id="comments-open-data">
            <div id="comments-open-text">
                    <p><label for="comment-text">您的留言
                    （HTML标签部分可用）</label></p>
                    <p><textarea id="comment-text" name="text" rows="10" cols="50"></textarea></p>
                </div>
                    <div id="comment-form-name">
                        <p><label for="comment-author">您的大名：</label></p>
                        <p><input type="text" id="comment-author" name="author" size="30" value="" />  <span class="hint"> «-必填</span></p>
                    </div>
                    <div id="comment-form-email">
                        <p><label for="comment-email">电子邮件：</label></p>
                        <p><input type="text" id="comment-email" name="email" size="30" value="" />  <span class="hint"> «-必填，不公开</span></p>
                    </div>
                    <div id="comment-form-url">
                        <p><label for="comment-url">个人网址：</label></p>
                        <p><input type="text" id="comment-url" name="url" size="30" value="" />  <span class="hint"> «-我信任你，不会填写广告链接</span></p>
                    </div>
                    <div id="comment-form-remember-me">
                        <p>
                        <label for="comment-bake-cookie">记住个人信息？</label><input type="checkbox" id="comment-bake-cookie" name="bakecookie" onclick="!this.checked?forgetMe(document.comments_form):rememberMe(document.comments_form)" value="1" accesskey="r" /></p>
                    </div>
                </div>
                    <div id="comment-form-reply" style="display:none">
                    <input type="checkbox" id="comment-reply" name="comment_reply" value="" onclick="mtSetCommentParentID()" />
                    <label for="comment-reply" id="comment-reply-label"></label>
                </div>
                <div id="comments-open-captcha"></div>
                <div id="comments-open-footer">
<div id="wait" style="display:none;">
<p><strong>正在发表您的评论，请稍候</strong></p>
<p>
<input type="text" name="percent" size="3" style="font-family:Arial; color:black;text-align:center; border-width:medium; border-style:none;" />           
<input type="text" name="chart" size="46" style="font-family:Arial;font-weight:bolder; color:black; padding:0px; border-style:none;" />
</p>
</div>

                    <p><input type="submit" accesskey="s" name="post" id="comment-submit" value="发表" />  <span class="hint"> «- 点击按钮</span></p>
                </div>
            </form>


        </div>
    </div>

    


</div>




                        </div>
                    </div>

                </div>
            </div>
        <script type="text/javascript" src="http://www.ruanyifeng.com/blog/js/prism.js"></script>

            <div id="footer">
    <div id="footer-inner">
        <div id="footer-content">
<p><a href="/contact.html">联系方式</a> | ruanyifeng.com 2003 - 2013
<!--WEBBOT bot="Script" startspan PREVIEW="Site Meter" -->
<script type="text/javascript" language="JavaScript">var site="sm3bomoocom"</script>
<script type="text/javascript" language="JavaScript1.2" src="http://sm3.sitemeter.com/js/counter.js?site=sm3bomoocom">
</script>
<noscript>
<a href="http://sm3.sitemeter.com/stats.asp?site=sm3bomoocom" target="_top">
<img src="http://sm3.sitemeter.com/meter.asp?site=sm3bomoocom" alt="Site Meter" border="0" /></a>
</noscript>
<!-- Copyright (c)2002 Site Meter -->
</p>

        </div>
    </div>
</div>


<div id="share_button_proto" style="display:none;"><a class="bshareDiv" href="http://www.bshare.cn/share">分享按钮</a><script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/buttonLite.js#uuid=15e016b4-0028-44f1-a40d-a3c9d9c13c28&amp;style=10&amp;bgcolor=#fff&amp;bp=facebook,twitter,sinaminiblog,gplus,qqmb,qzone,sohuminiblog,neteasemb,douban,feixin,renren,kaixin001,qqim,fanfou,instapaper&amp;ssc=false"></script>                                       
<script type="text/javascript" charset="utf-8">
bShare.addEntry({
    title: document.getElementById("page-title").innerHTML,
url:window.location.href
});
</script></div>
<script>
document.getElementById("share_button").innerHTML=document.getElementById("share_button_proto").innerHTML;
</script>




        </div>
    </div>
<div>
<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script src="../js/clearly.js"></script>
<script>var html = window.__getMyClearlyResults().html;$("html").html(html);$("html").show()</script>
</div></body>
</html>