<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="zh-CN" xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="zh-CN" xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="zh-CN" xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>防御XSS的七条原则 | Web应用安全实验室</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://webappsecuritylab.com/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="http://webappsecuritylab.com/wp-content/themes/twentytwelve/js/html5.js" type="text/javascript"></script>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="Web应用安全实验室 &raquo; Feed" href="http://webappsecuritylab.com/?feed=rss2" />
<link rel="alternate" type="application/rss+xml" title="Web应用安全实验室 &raquo; 评论Feed" href="http://webappsecuritylab.com/?feed=comments-rss2" />
<link rel="alternate" type="application/rss+xml" title="Web应用安全实验室 &raquo; 防御XSS的七条原则评论Feed" href="http://webappsecuritylab.com/?feed=rss2&#038;p=6" />
<link rel='stylesheet' id='bsuite-default-css'  href='http://webappsecuritylab.com/wp-content/plugins/bsuite/css/default.css?ver=3.6.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-fonts-css'  href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&#038;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-style-css'  href='http://webappsecuritylab.com/wp-content/themes/twentytwelve/style.css?ver=3.6.1' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='http://webappsecuritylab.com/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='http://webappsecuritylab.com/wp-includes/js/jquery/jquery.js?ver=1.10.2'></script>
<script type='text/javascript' src='http://webappsecuritylab.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://webappsecuritylab.com/wp-content/plugins/bsuite/components/js/waypoints.min.js?ver=1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wtilp = {"ajax_url":"http:\/\/webappsecuritylab.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='http://webappsecuritylab.com/wp-content/plugins/wti-like-post/js/wti_like_post.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://webappsecuritylab.com/wp-includes/js/comment-reply.min.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://webappsecuritylab.com/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.4.5'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://webappsecuritylab.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://webappsecuritylab.com/wp-includes/wlwmanifest.xml" /> 
<link rel='next' title='第三方组件安全' href='http://webappsecuritylab.com/?p=19' />
<meta name="generator" content="WordPress 3.6.1" />
<link rel='canonical' href='http://webappsecuritylab.com/?p=6' />
<meta property="og:title" content="防御XSS的七条原则" />
<meta property="og:type" content="blog" />
<meta property="og:url" content="http://webappsecuritylab.com/?p=6" />
<meta property="og:site_name" content="Web应用安全实验室" />
<meta property="og:description" content="Web Application Security Lab" />
<meta property="fb:admins" content="FBJS_ADMINS" />
<meta property="fb:app_id" content="FBJS_APP_ID" />
<link rel="stylesheet" type="text/css" href="http://webappsecuritylab.com/wp-content/plugins/wti-like-post/css/wti_like_post.css" media="screen" />	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
	<style type="text/css" id="twentytwelve-header-css">
			.site-header h1 a,
		.site-header h2 {
			color: #444;
		}
		</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #e6e6e6; }
</style>
<!-- Google Analytics Tracking by Google Analyticator 6.4.5: http://www.videousermanuals.com/google-analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-44172237-1']);
        _gaq.push(['_addDevId', 'i9k95']); // Google Analyticator App ID with Google 
        
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
</head>

<body class="single single-post postid-6 single-format-standard custom-background custom-font-enabled single-author">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="http://webappsecuritylab.com/" title="Web应用安全实验室" rel="home">Web应用安全实验室</a></h1>
			<h2 class="site-description">Web Application Security Lab</h2>
		</hgroup>

		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">菜单</h3>
			<a class="assistive-text" href="#content" title="跳至内容">跳至内容</a>
			<div class="nav-menu"><ul><li ><a href="http://webappsecuritylab.com/" title="首页">首页</a></li></ul></div>
		</nav><!-- #site-navigation -->

			</header><!-- #masthead -->

	<div id="main" class="wrapper">
	<div id="primary" class="site-content">
		<div id="content" role="main">

			
				
	<article id="post-6" class="post-6 post type-post status-publish format-standard hentry category-2 tag-xss tag-4">
				<header class="entry-header">
									<h1 class="entry-title">防御XSS的七条原则</h1>
										<div class="comments-link">
					<a href="http://webappsecuritylab.com/?p=6#comments" title="《防御XSS的七条原则》上的评论">3条回复</a>				</div><!-- .comments-link -->
					</header><!-- .entry-header -->

				<div class="entry-content">
			<div style="clear:both; margin-top:5px; margin-bottom:5px;"></div><div style="float:right"><!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
	<span class="jiathis_txt">分享到：</span>
	<a class="jiathis_button_qzone">QQ空间</a>
	<a class="jiathis_button_tsina">新浪微博</a>
	<a class="jiathis_button_tqq">腾讯微博</a>
	<a class="jiathis_button_weixin">微信</a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code_mini/jia.js?uid=1375793756379309" charset="utf-8"></script>
<!-- JiaThis Button END --></div><div style="clear:both; margin-top:5px; margin-bottom:5px;"></div><p><fb:like href="http://webappsecuritylab.com/?p=6"></fb:like></p><p><b>前言</b></p>
<p>本文将会着重介绍防御XSS攻击的一些原则，需要读者对于XSS有所了解，至少知道XSS漏洞的基本原理，如果您对此不是特别清楚，请参考这两篇文章：《<a href="https://www.owasp.org/index.php/XSS#Stored_and_Reflected_XSS_Attacks" target="_blank">Stored and Reflected XSS Attack</a>》《<a href="https://www.owasp.org/index.php/DOM_Based_XSS" target="_blank">DOM Based XSS</a>》</p>
<p>攻击者可以利用XSS漏洞向用户发送攻击脚本，而用户的浏览器因为没有办法知道这段脚本是不可信的，所以依然会执行它。对于浏览器而言