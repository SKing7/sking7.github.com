<!DOCTYPE html>
<html>
	<head>
		<title>Lucb1e.com :: Cookieless Cookies</title>
		<style>
			body {
				font-family: Arial;
			}
		</style>
	</head>
	<body>
		<div style="width: 632px; font-size: 1em; margin: 0 auto 0 auto; margin-top: 40px;">
			<div style="float: right; margin-left: 15px;">
				<img src="tracker.jpg" />
			</div>
			<h2>Cookieless cookies</h2>
			
			There is another obscure way of tracking users without using cookies or even Javascript. It has
			<a href="http://en.wikipedia.org/wiki/HTTP_ETag#Tracking_using_ETags" target="_blank">already been used</a>
			by numerous websites but few people know of it. This page explains how it works and how to protect yourself.<br/>
			<br/>
			<br/>
			This tracking method works <b>without</b> needing to use:<br/>
			<ul>
				<li>Cookies</li>
				<li>Javascript</li>
				<li>LocalStorage/SessionStorage/GlobalStorage</li>
				<li>Flash, Java or other plugins</li>
				<li>Your IP address or user agent string</li>
				<li>Any methods employed by <a href="https://panopticlick.eff.org" target="_blank">Panopticlick</a></li>
			</ul>

			Instead it uses another type of storage that is persistent between browser restarts: <b>caching</b>.<br/>
			<br/>
			Even when you disabled cookies entirely, have Javascript turned off and use a VPN service, this technique will
			still be able to track you.<br/>
			<br/>
			<hr/>
			
			<a name="demo"></a>
			<h3>Demonstration</h3>
			As you read this, you have already been tagged. Sorry. The good news is that I don't link your session id to any
			personally identifiable information. Here is everything I store about you right now:<br/>
			<br/>
			<form method="POST" action="./">
				<b>Number of visits:</b> 1<br/>
				<br/>
				<b>Last visit:</b> Sun, 29 Sep 2013 14:20:16 +0200<br/>
				<br/>
				<b>Want to store some text here?</b><br/>
				<textarea name=newstring style="width: 632px;" rows=4></textarea><br/>
				(max. 350 characters)<br/>
				<input type=submit value=Store />
			</form>
			<br/>
			Go ahead, type something and store it. Then close your browser and open this page again. Is it still there?<br/>
			<br/>
			Check your cookies, is anything there? Nope, it's all in a fake image checksum that almost noone is aware of.
			Saw that eye on the right top of the page? That's our tracker.<br/>
			<br/>
			<hr/>
			
			<a name="how"></a>
			<h3>So how does this work?</h3>
			This is a general overview:<br/>
			<br/>
			<img src="etags.jpg"/><br/>
			<br/>
			The ETag shown in the image is a sort of checksum. When the image changes, the checksum changes. So when the browser
			has the image and knows the checksum, it can send it to the webserver for verification. The webserver then checks
			whether the image has changed. If it hasn't, the image does not need to be retransmitted and lots of data is saved.<br/>
			<br/>
			Attentive readers might have noticed already how you can use this to track people: the browser sends the information back
			to the server that it previously received (the ETag). That sounds an awful lot like cookies, doesn't it? The server can
			simply give each browser an unique ETag, and when they connect again it can look it up in its database.<br/>
			<br/>
			<a name="#demotech"></a>
			<b>Technical stuff (and bugs) specifically about this demo</b><br/>
			To demonstrate how this works without having to use Javascript, I had to find a piece of information that's relatively
			unique to you besides this ETag. The image is loaded <i>after</i> the page is loaded, but only the image contains the
			ETag. How can I display up to date info on the page? Turns out I can't really do that without dynamically updating the
			page, which requires javascript, which I wanted to avoid to show that it can be done without.<br/>
			<br/>
			This chicken and egg problem introduces a few bugs:<br/>
			- All information you see was from your previous pageload. Press F5 to see updated data.<br/>
			- When you visit a page where you don't have 