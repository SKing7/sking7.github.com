<!doctype html> 
<!--[if IEMobile 7 ]> <html lang="en-US"class="no-js iem7"> <![endif]-->
<!--[if lt IE 7 ]> <html lang="en-US" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en-US" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en-US" class="no-js ie8"> <![endif]-->
<!--[if (gte IE 9)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html lang="en-US" class="no-js"><!--<![endif]-->
	
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		
		<title>
			  Capturing Web Page Without Stylesheets 
		</title>
				
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<!-- icons & favicons -->
		<!-- For iPhone 4 -->
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/images/icons/h/apple-touch-icon.png">
		<!-- For iPad 1-->
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/images/icons/m/apple-touch-icon.png">
		<!-- For iPhone 3G, iPod Touch and Android -->
		<link rel="apple-touch-icon-precomposed" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/images/icons/l/apple-touch-icon-precomposed.png">
		<!-- For Nokia -->
		<link rel="shortcut icon" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/images/icons/l/apple-touch-icon.png">
		<!-- For everything else -->
		<!-- <link rel="shortcut icon" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/favicon.ico"> -->
				
		<!-- media-queries.js (fallback) -->
		<!--[if lt IE 9]>
			<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>			
		<![endif]-->

		<!-- html5.js -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
  		<link rel="pingback" href="http://ariya.ofilabs.com/xmlrpc.php">

  		<link rel="stylesheet/less" type="text/css" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/less/bootstrap.less">
  		<link rel="stylesheet/less" type="text/css" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/less/responsive.less">

		<!-- wordpress head functions -->
		<link rel='stylesheet' id='wp-syntax-css-css'  href='http://ariya.ofilabs.com/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack-widgets-css'  href='http://ariya.ofilabs.com/wp-content/plugins/jetpack/modules/widgets/widgets.css?ver=20121003' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-css'  href='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/css/bootstrap.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-responsive-css'  href='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/css/responsive.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='wp-bootstrap-css'  href='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/style.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='sharedaddy-css'  href='http://ariya.ofilabs.com/wp-content/plugins/jetpack/modules/sharedaddy/sharing.css?ver=2.5' type='text/css' media='all' />
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/js/libs/jquery-1.7.1.min.js?ver=1.7.1'></script>
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/js/bootstrap.min.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/js/scripts.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/js/modernizr.full.min.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-includes/js/comment-reply.min.js?ver=3.6.1'></script>
<link rel='canonical' href='http://ariya.ofilabs.com/2013/06/capturing-web-page-without-stylesheets.html' />
<link rel='shortlink' href='http://wp.me/p2lzjD-hF' />
<link rel="stylesheet" type="text/css" href="http://ariya.ofilabs.com/wp-content/plugins/microkids-related-posts/microkids-related-posts-default.css" />
<!-- Simple Google Analytics Begin -->
<script type="text/javascript">
var _gaq = [['_setAccount','UA-24809129-1'],['_setDomainName','ariya.ofilabs.com'],['_trackPageLoadTime'],['_trackPageview']];(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
<!-- Simple Google Analytics End -->

<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="Capturing Web Page Without Stylesheets" />
<meta property="og:url" content="http://ariya.ofilabs.com/2013/06/capturing-web-page-without-stylesheets.html" />
<meta property="og:description" content="It is amazing to live in an environment where the Internet connection is ubiquitous and fast. But in case the tube is having a problem and the bits from the web server are broken into random pieces..." />
<meta property="og:site_name" content="don&#039;t code today what you can&#039;t debug tomorrow" />
<meta property="og:image" content="http://ariya.ofilabs.com/wp-content/uploads/2013/06/decssify.png" />
<meta name="twitter:site" content="@jetpack" />
<meta name="twitter:image" content="http://ariya.ofilabs.com/wp-content/uploads/2013/06/decssify.png" />
<meta name="twitter:card" content="photo" />
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="http://ariya.ofilabs.com/?custom-css=1&#038;csblog=1&#038;cscache=6&#038;csrev=31" />
				<!-- end of wordpress head -->

		<!-- theme options from options panel -->
		<style>
        h1, h2, h3, h4, h5, h6{ 
          font-family: "Helvetica Neue",Helvetica,Arial,sans-serif; 
          font-weight: bold; 
          color: #404040; 
        }
        body{ 
          font-family: "Helvetica Neue",Helvetica,Arial,sans-serif; 
          font-weight: normal; 
          color: #404040; 
        }
        .navbar-inner, .navbar .fill { 
          background-color: #222222;
        }#222222
        .navbar-inner, .navbar .fill {
          background-image: -khtml-gradient(linear, left top, left bottom, from(#222222), to(#333333));
          background-image: -moz-linear-gradient(top, #222222, #333333);
          background-image: -ms-linear-gradient(top, #222222, #333333);
          background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #222222), color-stop(100%, #333333));
          background-image: -webkit-linear-gradient(top, #222222, #3333332);
          background-image: -o-linear-gradient(top, #222222, #333333);
          background-image: linear-gradient(top, #222222, #333333);
          filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#222222', endColorstr='#3333332', GradientType=0);
        }
        .navbar .nav li a { 
          color: #BFBFBF;
        }
        .navbar .nav li a:hover { 
          color: #FFFFFF;
        }
          .dropdown-menu li > a:hover, .dropdown-menu .active > a, .dropdown-menu .active > a:hover {
            background-color: #0088CC;
          }
        
          .dropdown-menu a{
            color: #555555 !important;
          }
        
        .hero-unit { 
          background-color: #F5F5F5;
        }
        #main article {
          border-bottom: none;
        }h1.h2 {
letter-spacing: -1px;
font-weight: normal;
}

div.postauthor &gt; div {
padding-right: 25px;
}

blockquote p {
font-size: 13px;
}

h1.singletitle {
letter-spacing: -1px;
font-weight: normal;
}

pre {
border: none;
padding: 2px;
background-color: transparent;
}

code {
color: black;
}

.related-posts {
margin-top: 20px;
}
        </style>
						
	</head>
	
	<body class="single single-post postid-1095 single-format-standard">
				
		<header role="banner">
		
			<div id="inner-header" class="clearfix">
				
				<div class="navbar navbar-fixed-top">
					<div class="navbar-inner">
						<div class="container-fluid nav-container">
							<nav role="navigation">
								<a class="brand" id="logo" title="" href="http://ariya.ofilabs.com">don&#039;t code today what you can&#039;t debug tomorrow</a>
								
								<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
							        <span class="icon-bar"></span>
							        <span class="icon-bar"></span>
							        <span class="icon-bar"></span>
								</a>
								
								<div class="nav-collapse">
									<ul id="menu-nav" class="nav"><li id="menu-item-970" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://ariya.ofilabs.com/about">About</a></li>
<li id="menu-item-1025" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://ariya.ofilabs.com/highlights">Highlights</a></li>
<li id="menu-item-972" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://ariya.ofilabs.com/projects">Projects</a></li>
<li id="menu-item-971" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="http://ariya.ofilabs.com/talks">Talks</a></li>
</ul>								</div>
								
							</nav>
							
														
						</div>
					</div>
				</div>
			
			</div> <!-- end #inner-header -->
		
		</header> <!-- end header -->
		
		<div class="container-fluid">			
			<div id="content" class="clearfix row-fluid">
			
				<div id="main" class="span8 clearfix" role="main">

										
					<article id="post-1095" class="post-1095 post type-post status-publish format-standard hentry category-uncategorized tag-phantomjs tag-web clearfix" role="article" itemscope itemtype="http://schema.org/BlogPosting">
						
						<header>
						
														
							<div class="page-header"><h1 class="single-title" itemprop="headline">Capturing Web Page Without Stylesheets</h1></div>
							
							<p class="meta"><time datetime="2013-06-10" pubdate>June 10, 2013</time>.</p>
							<p class="tags"><span class="tags-title">Tags:</span> <a href="http://ariya.ofilabs.com/tag/phantomjs" rel="tag">phantomjs</a> <a href="http://ariya.ofilabs.com/tag/web" rel="tag">web</a></p>							

						
						</header> <!-- end article header -->
					
						<section class="post_content clearfix" itemprop="articleBody">
							<p class="lead">It is amazing to live in an environment where the Internet connection is ubiquitous and fast. But in case the tube is having a problem and the bits from the web server are broken into random pieces, how does the web site look like? If the content degrades gracefully, the lack of style sheets may reduce the attractiveness of the page but it should not significantly hamper the experience. Fortunately, there is a way to automatically check the appearance of a web page under that circumstance.</p>
<p>Some time ago, I have demonstrated the use of <a href="http://phantomjs.org">PhantomJS</a>, headless WebKit, to <a href="http://ariya.ofilabs.com/2012/10/web-page-screenshot-with-phantomjs.html" title="Web Page Screenshot with PhantomJS">capture web pages</a> programmatically. The example was also extended to capture just a particular portion of the page via <a href="http://ariya.ofilabs.com/2013/04/web-page-clipping-with-phantomjs.html" title="Web Page Clipping with PhantomJS">clipping</a>. For CSS-less capture, we just need to extend it with the new feature in PhantomJS 1.9 (as implemented by <a href="https://github.com/Vitallium">Vitaliy Slobodin</a>): the ability to <a href="https://github.com/ariya/phantomjs/issues/10230">abort network requests</a>.</p>
<p>There is a example <a href="https://github.com/ariya/phantomjs/blob/master/examples/loadurlwithoutcss.js">loadurlwithoutcss.js</a> which demonstrates this feature. In fact, combining this idea with the previous BBC News site capture, we can come up with the following screenshots. The left side shows the normal page (see my previous blog post on <a href="http://ariya.ofilabs.com/2013/04/web-page-clipping-with-phantomjs.html" title="Web Page Clipping with PhantomJS">web clipping</a>) while the right side demonstrates what happens when all the CSS files are not loaded <strong>at all</strong>.</p>
<a href="http://ariya.ofilabs.com/2013/06/capturing-web-page-without-stylesheets.html/decssify" rel="attachment wp-att-1096"><img src="http://ariya.ofilabs.com/wp-content/uploads/2013/06/decssify.png" alt="decssify" class="alignnone size-full wp-image-1096" /></a>
<p>The script which produces the above image is as follows:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> page <span style="color: #339933;">=</span> require<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'webpage'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">create</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
page.<span style="color: #660066;">settings</span>.<span style="color: #660066;">userAgent</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">'WebKit/534.46 Mobile/9A405 Safari/7534.48.3'</span><span style="color: #339933;">;</span>
page.<span style="color: #660066;">settings</span>.<span style="color: #660066;">viewportSize</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span> width<span style="color: #339933;">:</span> <span style="color: #CC0000;">400</span><span style="color: #339933;">,</span> height<span style="color: #339933;">:</span> <span style="color: #CC0000;">600</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
&nbsp;
page.<span style="color: #660066;">onResourceRequested</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>requestData<span style="color: #339933;">,</span> request<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#40;</span><span style="color: #009966; font-style: italic;">/http:\/\/.+?\.css$/gi</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">test</span><span style="color: #009900;">&#40;</span>requestData<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">'url'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        console.<span style="color: #660066;">log</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'Skipping'</span><span style="color: #339933;">,</span> requestData<span style="color: #009900;">&#91;</span><span style="color: #3366CC;">'url'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        request.<span style="color: #660066;">abort</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>   
<span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
&nbsp;
page.<span style="color: #660066;">open</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'http://m.bbc.co.uk/news/health'</span><span style="color: #339933;">,</span> <span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span>status<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>status <span style="color: #339933;">!==</span> <span style="color: #3366CC;">'success'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        console.<span style="color: #660066;">log</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'Unable to load BBC!'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        phantom.<span style="color: #660066;">exit</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span> <span style="color: #000066; font-weight: bold;">else</span> <span style="color: #009900;">&#123;</span>
        window.<span style="color: #660066;">setTimeout</span><span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">function</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            page.<span style="color: #660066;">clipRect</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#123;</span> left<span style="color: #339933;">:</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">,</span> top<span style="color: #339933;">:</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">,</span> width<span style="color: #339933;">:</span> <span style="color: #CC0000;">400</span><span style="color: #339933;">,</span> height<span style="color: #339933;">:</span> <span style="color: #CC0000;">600</span> <span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span>
            page.<span style="color: #660066;">render</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'bbc_unstyled.png'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
            phantom.<span style="color: #660066;">exit</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">1000</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>   
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></td></tr></table></div>

<p>It is pretty similar to its <a href="http://ariya.ofilabs.com/2013/04/web-page-clipping-with-phantomjs.html" title="Web Page Clipping with PhantomJS">previous version</a>. The new addition is a handler for <code>onResourceRequested</code> where we detect the URL for a style sheet and abort its loading. If the script is executed, it will display the message:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">Skipping http:<span style="color: #000000; font-weight: bold;">//</span>static.bbci.co.uk<span style="color: #000000; font-weight: bold;">/</span>frameworks<span style="color: #000000; font-weight: bold;">/</span>barlesque<span style="color: #000000; font-weight: bold;">/</span>2.45.9<span style="color: #000000; font-weight: bold;">/</span>mobile<span style="color: #000000; font-weight: bold;">/</span><span style="color: #000000;">3.5</span><span style="color: #000000; font-weight: bold;">/</span>style<span style="color: #000000; font-weight: bold;">/</span>main.css
Skipping http:<span style="color: #000000; font-weight: bold;">//</span>static.bbci.co.uk<span style="color: #000000; font-weight: bold;">/</span>bbcdotcom<span style="color: #000000; font-weight: bold;">/</span>0.3.184<span style="color: #000000; font-weight: bold;">/</span>style<span style="color: #000000; font-weight: bold;">/</span>mobile<span style="color: #000000; font-weight: bold;">/</span>bbccom.css
Skipping http:<span style="color: #000000; font-weight: bold;">//</span>static.bbci.co.uk<span style="color: #000000; font-weight: bold;">/</span>news<span style="color: #000000; font-weight: bold;">/</span>1.7.1-<span style="color: #000000;">259</span><span style="color: #000000; font-weight: bold;">/</span>stylesheets<span style="color: #000000; font-weight: bold;">/</span>core.css
Skipping http:<span style="color: #000000; font-weight: bold;">//</span>static.bbci.co.uk<span style="color: #000000; font-weight: bold;">/</span>news<span style="color: #000000; font-weight: bold;">/</span>1.7.1-<span style="color: #000000;">259</span><span style="color: #000000; font-weight: bold;">/</span>stylesheets<span style="color: #000000; font-weight: bold;">/</span>compact.css</pre></td></tr></table></div>

<p>which indicates that these 4 (four) style sheets won&#8217;t be part of the rendered output.</p>
<p>The entire process is rather straightforward. Because PhantomJS is <a href="http://ariya.ofilabs.com/2012/04/cloud-phantomjs-on-amazon-ec2.html">cloud-ready</a>, you can even have it running on an instance of Amazon EC2. It should not be too difficult to include this type of spartan rendering of your web site as <a href="http://ariya.ofilabs.com/2012/12/quality-code-via-multiple-layers-of-defense.html" title="Quality Code via Multiple Layers of Defense">another layer</a> in the defensive development workflow.</p>
<p>What do you plan to de-CSS-ify today?</p>
<div class="related-posts">
<div id="related-posts-MRP_all" class="related-posts-type">
<h4>Related Posts:</h4>
<ul>
<li><a href="http://ariya.ofilabs.com/2013/07/detecting-js-libraries-versions.html">Detecting JavaScript Libraries and Versions</a></li>
<li><a href="http://ariya.ofilabs.com/2013/06/web-page-without-external-resources.html">Web Page Without External Resources</a></li>
<li><a href="http://ariya.ofilabs.com/2013/04/web-page-clipping-with-phantomjs.html">Web Page Clipping with PhantomJS</a></li>
<li><a href="http://ariya.ofilabs.com/2012/12/quality-code-via-multiple-layers-of-defense.html">Quality Code via Multiple Layers of Defense</a></li>
<li><a href="http://ariya.ofilabs.com/2012/10/web-page-screenshot-with-phantomjs.html">Web Page Screenshot with PhantomJS</a></li>
<li><a href="http://ariya.ofilabs.com/2012/04/cloud-phantomjs-on-amazon-ec2.html">Cloud PhantomJS on Amazon EC2</a></li>
</ul></div>
</div>							
												
						</section> <!-- end article section -->
						
						<footer>
			
														
						</footer> <!-- end article footer -->
					
					</article> <!-- end article -->
					
					
<div id="disqus_thread">
                    <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-4104">
        <div id="dsq-comment-header-4104" class="dsq-comment-header">
            <cite id="dsq-cite-4104">
                <span id="dsq-author-user-4104">Ivan Jouikov</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4104" class="dsq-comment-body">
            <div id="dsq-comment-message-4104" class="dsq-comment-message"><p>So what&#8217;s the point of de-CSS-fying?</p>
<p>I remember accomplishing something similar for fun by running Charles proxy and blacklisting *.css</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-4105">
        <div id="dsq-comment-header-4105" class="dsq-comment-header">
            <cite id="dsq-cite-4105">
http://ariya.ofilabs.com/                <span id="dsq-author-user-4105">Ariya Hidayat</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4105" class="dsq-comment-body">
            <div id="dsq-comment-message-4105" class="dsq-comment-message"><p>This is demonstrating the new feature of PhantomJS 1.9: the ability to abort particular network requests.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-4110">
        <div id="dsq-comment-header-4110" class="dsq-comment-header">
            <cite id="dsq-cite-4110">
http://www.tribu-richard.com/                <span id="dsq-author-user-4110">Ben</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4110" class="dsq-comment-body">
            <div id="dsq-comment-message-4110" class="dsq-comment-message"><p>And that&#8217;s a great features. Now testing websites is even more acceptable because we are able to remove all advertising javascript that are so badly scripted and that can lead to an error.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt depth-2" id="dsq-comment-4107">
        <div id="dsq-comment-header-4107" class="dsq-comment-header">
            <cite id="dsq-cite-4107">
http://danielimms.blogspot.com.au/                <span id="dsq-author-user-4107">Daniel Imms</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4107" class="dsq-comment-body">
            <div id="dsq-comment-message-4107" class="dsq-comment-message"><p>One way of determining how well your site works on screen readers is to strip the CSS. Basically you should be able to use the site fine without CSS in order to meet WCAG.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-4108">
        <div id="dsq-comment-header-4108" class="dsq-comment-header">
            <cite id="dsq-cite-4108">
                <span id="dsq-author-user-4108">Florian Rappl</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4108" class="dsq-comment-body">
            <div id="dsq-comment-message-4108" class="dsq-comment-message"><p>If its just about the stylesheets you can also simply use for(var i = 0; i &lt; document.styleSheets.length; i++) document.styleSheets[i].disabled = true;</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-4109">
        <div id="dsq-comment-header-4109" class="dsq-comment-header">
            <cite id="dsq-cite-4109">
                <span id="dsq-author-user-4109">Lexi Mize</span>
            </cite>
        </div>
        <div id="dsq-comment-body-4109" class="dsq-comment-body">
            <div id="dsq-comment-message-4109" class="dsq-comment-message"><p>I do what Florian below does, but I have three javascript link buttons for zapping a page.</p>
<p>1) Kill CSS (as below)<br />
2) Kill embed/objects/flash<br />
3) Shrink images down to 10&#215;10. But link them so that I can click them to return them to original dimensions.<br />
And remember all of the above must be done iteratively in frames and iframes.</p>
</div>
        </div>

    </li><!-- #comment-## -->
            </ul>


        </div>

    </div>

<script type="text/javascript">
/* <![CDATA[ */
    var disqus_url = 'http://ariya.ofilabs.com/2013/06/capturing-web-page-without-stylesheets.html';
    var disqus_identifier = '1095 http://ariya.ofilabs.com/?p=1095';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'ariya';
    var disqus_title = "Capturing Web Page Without Stylesheets";
        var disqus_config = function () {
        var config = this; // Access to the config object
        config.language = '';

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=1095';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/ariya.ofilabs.com\/2013\/06\/capturing-web-page-without-stylesheets.html\/trackback"    };
/* ]]> */
</script>

<script type="text/javascript">
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.74';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]> */
</script>
					
								
					
								
				</div> <!-- end #main -->
    
								<div id="sidebar1" class="fluid-sidebar sidebar span4" role="complementary">
				
					
						<div id="search-2" class="widget widget_search"><form role="search" method="get" id="searchform" action="http://ariya.ofilabs.com/" >
    <label class="screen-reader-text" for="s">Search for:</label>
    <input type="text" value="" name="s" id="s" placeholder="Search the Site..." />
    <input type="submit" id="searchsubmit" value="Search" />
    </form></div><div id="text-3" class="widget widget_text"><h4 class="widgettitle">whoami</h4>			<div class="textwidget"><p>My name is <strong>Ariya Hidayat</strong>. These days, I promote <strong>software craftsmanship</strong>, JavaScript, HTML5, CSS3, and general web technologies. I <a href="/highlights">write</a> blog posts regularly and <a href="/talks">speak</a> at developer events from time to time.</p>
<p>I am a <a href="/about">big believer</a> in sharing and openness. I have been involved with FOSS (free/open-source software), contributing code to projects such as KDE, Qt, and WebKit. In my little spare time, I also run <a href="/projects">projects</a> such as <a href="http://phantomjs.org">PhantomJS</a> (browser automation) and <a href="http://esprima.org">Esprima</a> (JavaScript parser).</p>
</div>
		</div>		<div id="recent-posts-2" class="widget widget_recent_entries">		<h4 class="widgettitle">Recent Posts</h4>		<ul>
					<li>
				<a href="http://ariya.ofilabs.com/2013/09/the-fabulous-edge-new-york-2013.html" title="The Fabulous Edge New York 2013">The Fabulous Edge New York 2013</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/09/fast-forward-git-merge.html" title="Fast-Forward Git Merge">Fast-Forward Git Merge</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/09/scope-analysis-for-javascript-code.html" title="Scope Analysis for JavaScript Code">Scope Analysis for JavaScript Code</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/09/autumn-2013-conferences.html" title="Autumn 2013 Conferences">Autumn 2013 Conferences</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/08/2013-nexus-7-javascript-performance-quick-check.html" title="2013 Nexus 7 JavaScript Performance Quick Check">2013 Nexus 7 JavaScript Performance Quick Check</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/08/searching-with-array-prototype-some.html" title="Searching with Array.prototype.some">Searching with Array.prototype.some</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/08/javascript-kinetic-scrolling-part-1.html" title="JavaScript Kinetic Scrolling: Part 1">JavaScript Kinetic Scrolling: Part 1</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/08/continuous-painting-mode-in-chrome.html" title="Continuous Painting Mode in Chrome">Continuous Painting Mode in Chrome</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/07/encouraging-shorter-tech-talk.html" title="Encouraging Shorter Tech Talk">Encouraging Shorter Tech Talk</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/07/profile-guided-javascript-optimization.html" title="Profile-Guided JavaScript Optimization">Profile-Guided JavaScript Optimization</a>
						</li>
				</ul>
		</div><div id="rss_links-2" class="widget widget_rss_links"><p><a href="http://ariya.ofilabs.com/feed" title="Subscribe to Posts"><img src="http://ariya.ofilabs.com/wp-content/plugins/jetpack/_inc/images/rss/green-small.png" alt="RSS Feed" /></a>&nbsp;<a href="http://ariya.ofilabs.com/feed" title="Subscribe to Posts">RSS - Posts</a></p>
</div><div id="text-4" class="widget widget_text"><h4 class="widgettitle">Notice</h4>			<div class="textwidget">This blog is my personal space. Unless otherwise noted, I don't discuss activities related to my professional work. All opinions expressed in this blog are my own and do not necessarily represent the official view of my employer.
</div>
		</div><div id="calendar-3" class="widget widget_calendar"><div id="calendar_wrap"><table id="wp-calendar">
	<caption>June 2013</caption>
	<thead>
	<tr>
		<th scope="col" title="Monday">M</th>
		<th scope="col" title="Tuesday">T</th>
		<th scope="col" title="Wednesday">W</th>
		<th scope="col" title="Thursday">T</th>
		<th scope="col" title="Friday">F</th>
		<th scope="col" title="Saturday">S</th>
		<th scope="col" title="Sunday">S</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td colspan="3" id="prev"><a href="http://ariya.ofilabs.com/2013/05" title="View posts for May 2013">&laquo; May</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next"><a href="http://ariya.ofilabs.com/2013/07" title="View posts for July 2013">Jul &raquo;</a></td>
	</tr>
	</tfoot>

	<tbody>
	<tr>
		<td colspan="5" class="pad">&nbsp;</td><td>1</td><td>2</td>
	</tr>
	<tr>
		<td>3</td><td>4</td><td>5</td><td>6</td><td><a href="http://ariya.ofilabs.com/2013/06/07" title="JavaScript Timing: Accuracy vs Precision">7</a></td><td>8</td><td>9</td>
	</tr>
	<tr>
		<td><a href="http://ariya.ofilabs.com/2013/06/10" title="Capturing Web Page Without Stylesheets">10</a></td><td>11</td><td>12</td><td><a href="http://ariya.ofilabs.com/2013/06/13" title="Cross-Reference: Commit Message and Issue Tracker">13</a></td><td>14</td><td>15</td><td>16</td>
	</tr>
	<tr>
		<td>17</td><td><a href="http://ariya.ofilabs.com/2013/06/18" title="JavaScript Source Transformation: Non-Destructive vs Regenerative">18</a></td><td>19</td><td>20</td><td>21</td><td>22</td><td><a href="http://ariya.ofilabs.com/2013/06/23" title="The Amazing Velocity 2013">23</a></td>
	</tr>
	<tr>
		<td>24</td><td><a href="http://ariya.ofilabs.com/2013/06/25" title="Web Page Without External Resources">25</a></td><td><a href="http://ariya.ofilabs.com/2013/06/26" title="Optimizing CSS3 for GPU Compositing">26</a></td><td>27</td><td>28</td><td>29</td><td>30</td>
	</tr>
	</tbody>
	</table></div></div>
					
				</div>    
			</div> <!-- end #content -->

			<footer role="contentinfo">
			
				<div id="inner-footer" class="clearfix">
		          <hr />
		          <div id="widget-footer" class="clearfix row-fluid">
		            		<div id="recent-posts-3" class="widget span4 widget_recent_entries">		<h4 class="widgettitle">Recent Posts</h4>		<ul>
					<li>
				<a href="http://ariya.ofilabs.com/2013/09/the-fabulous-edge-new-york-2013.html" title="The Fabulous Edge New York 2013">The Fabulous Edge New York 2013</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/09/fast-forward-git-merge.html" title="Fast-Forward Git Merge">Fast-Forward Git Merge</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/09/scope-analysis-for-javascript-code.html" title="Scope Analysis for JavaScript Code">Scope Analysis for JavaScript Code</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/09/autumn-2013-conferences.html" title="Autumn 2013 Conferences">Autumn 2013 Conferences</a>
						</li>
					<li>
				<a href="http://ariya.ofilabs.com/2013/08/2013-nexus-7-javascript-performance-quick-check.html" title="2013 Nexus 7 JavaScript Performance Quick Check">2013 Nexus 7 JavaScript Performance Quick Check</a>
						</li>
				</ul>
		</div>		            <div id="text-5" class="widget span4 widget_text"><h4 class="widgettitle">Imprint</h4>			<div class="textwidget">Certain links, including hypertext links, in my blog will take you outside my blog. Links are provided for your convenience and inclusion of any link does not imply endorsement or approval of the linked site, its operator or its content. I am not responsible for the content of any website outside of my blog.</div>
		</div>		            <div id="blog_subscription-2" class="widget span4 jetpack_subscription_widget"><h4 class="widgettitle"><label for="subscribe-field">Subscribe</label></h4>
		<form action="" method="post" accept-charset="utf-8" id="subscribe-blog-blog_subscription-2">
			<p>Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p>
			<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" value="Email Address" id="subscribe-field" onclick="if ( this.value == 'Email Address' ) { this.value = ''; }" onblur="if ( this.value == '' ) { this.value = 'Email Address'; }" /></p>

			<p>
				<input type="hidden" name="action" value="subscribe" />
				<input type="hidden" name="source" value="http://ariya.ofilabs.com/2013/06/capturing-web-page-without-stylesheets.html" />
				<input type="hidden" name="sub-type" value="widget" />
				<input type="hidden" name="redirect_fragment" value="blog_subscription-2" />
								<input type="submit" value="Subscribe" name="jetpack_subscriptions_widget" />
			</p>
		</form>

		
</div>		          </div>
					
					<nav class="clearfix">
											</nav>
					
					<p class="pull-right"><a href="http://320press.com" id="credit320" title="By the dudes of 320press">320press</a></p>
			
					<p class="attribution">&copy; 2005-2013 Ariya Hidayat</p>
				
				</div> <!-- end #inner-footer -->
				
			</footer> <!-- end footer -->
		
		</div> <!-- end #container -->
				
		<!--[if lt IE 7 ]>
  			<script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
  			<script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
		<![endif]-->
		
			<div style="display:none">
	</div>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201339'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2013Sepaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-content/plugins/jetpack/modules/wpgroho.js?ver=3.6.1'></script>

	<script src="http://stats.wordpress.com/e-201339.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:2.5',blog:'34693317',post:'1095',tz:'-7'});
	var load_cmc = function(){linktracker_init(34693317,1095,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script>
	</body>

</html>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Page Caching using memcached

Served from: ariya.ofilabs.com @ 2013-09-29 04:04:15 -->