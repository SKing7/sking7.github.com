<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
<head>
<meta charset="utf-8">
<title>Effectively managing memory at Gmail scale - HTML5 Rocks</title>
<meta name="description" content="Learn how you to effectively manage memory at GMail scale.">
<meta name="keywords" content="html5,html 5,html5 demos,html5 examples,javascript,css3,notifications,geolocation,web workers,apppcache,file api,filereader,indexeddb,offline,audio,video,drag and drop,chrome,sse,mobile">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
<script type='text/javascript'>window.mod_pagespeed_start = Number(new Date());</script><link rel="shortcut icon" href="http://1-ps.googleusercontent.com/x/s.html5rocks-hrd.appspot.com/www.html5rocks.com/xfavicon.ico.pagespeed.ic.ue6LRTzc6n.png">
<link rel="alternate" type="application/rss+xml" title="HTML5 Rocks RSS" href="http://feeds.feedburner.com/html5rocks">
<meta itemprop="name" content="Effectively Managing Memory at Gmail scale - HTML5 Rocks">
<meta itemprop="description" content="Learn how you to effectively manage memory at GMail scale.">
<meta itemprop="image" content="http://www.html5rocks.com/static/images/html5rocks-logo-wings.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ChromiumDev">
<meta name="twitter:creator" content="@johnmccutchan">
<meta property="og:type" content="article">
<meta property="og:title" content="Effectively Managing Memory at Gmail scale - HTML5 Rocks">
<meta property="og:url" content="http://www.html5rocks.com/en/tutorials/memory/effectivemanagement/">
<meta property="og:description" content="Learn how you to effectively manage memory at GMail scale.">
<meta property="og:image" content="http://www.html5rocks.com/static/images/profiles/johnmccutchan.png">
<meta property="og:site_name" content="HTML5 Rocks - A resource for open web HTML5 developers">
<link rel="publisher" href="https://plus.google.com/111395306401981598462">
<style media="all">body ::-webkit-scrollbar{height:16px;overflow:visible;width:16px}body ::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);background-clip:padding-box;border-style:solid;border-color:transparent;min-height:28px;padding:100px 0px 0px;box-shadow: rgba(0, 0, 0, 0.0980392) 1px 1px 0px inset, rgba(0, 0, 0, 0.0666667) 0px -1px 0px inset;border-width:1px 1px 1px 6px}body ::-webkit-scrollbar-button{height:0px;width:0px}body ::-webkit-scrollbar-track{background-clip:padding-box;border-style:solid;border-color:transparent;border-width:0px 0px 0px 4px}body ::-webkit-scrollbar-corner{background-color:transparent;background-position:initial initial;background-repeat:initial initial}article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio:not([controls]) {display:none}html{font-size:100%;overflow-y:scroll}body{margin:0px;font-size:13px;line-height:1.231;overflow:hidden}body,button,input,select,textarea{font-family:sans-serif;color:#222}*::-moz-selection{background-color:#f04530;color:#fff;text-shadow:none;background-position:initial initial;background-repeat:initial initial}::selection{background-color:#f04530;color:#fff;text-shadow:none;background-position:initial initial;background-repeat:initial initial}a{color:#508b88;text-decoration:none}a:visited{color:#508b88}a:hover,a:focus{color:#f04530}a:focus{outline:dotted thin}a:hover,a:active{outline:0px}b,strong{font-weight:bold}pre,code,kbd,samp{font-family:'Source Code Pro',monospace;font-size:1em}pre{white-space:pre-wrap;word-wrap:break-word}q::before,q::after{content:none}ul,ol{margin:1em 0px;padding:0px 0px 0px 40px}nav ul,nav ol{list-style:none none;margin:0px;padding:0px}img{border:0px;vertical-align:middle}svg:not(:root) {overflow:hidden}figure{margin:0px}form{margin:0px}label{cursor:pointer}button,input,select,textarea{font-size:100%;margin:0px;vertical-align:baseline}button,input{line-height:normal}input[type="search"]{-webkit-appearance:textfield;box-sizing:content-box}input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0px;padding:0px}input:invalid,textarea:invalid{background-color:#f0dddd}button:not([disabled]):hover, button:not([disabled]):focus {border-color:#000}button:not([disabled]):active {background-image:-webkit-linear-gradient(top,#e3e3e3 40%,#f9f9f9 70%);background-position:initial initial;background-repeat:initial initial}.pattern-bg{background-color:#eee!important}.pattern-bg-lighter, article.sectioned > section:not(#classes) {box-shadow:#ccc 1px 1px 10px;background-color:#fff!important}body[data-href="home"] .pattern-bg-lighter, body[data-href="gaming"] .pattern-bg-lighter, body[data-href="business"] .pattern-bg-lighter, body[data-href="home"] article.sectioned > section:not(#classes), body[data-href="gaming"] article.sectioned > section:not(#classes), body[data-href="business"] article.sectioned > section:not(#classes) {-webkit-box-shadow:none;box-shadow:none}h1,h2,h3,h4,h5{font-weight:normal;line-height:1.125}hgroup h1,hgroup h2,hgroup h3{text-transform:uppercase}h1{font-size:35px;font-weight:300;margin:0px 0px .25em}h2{font-size:26px;margin:1em 0px .5em}h3{font-size:20px;font-weight:300;margin:1em 0px .5em}h2:first-child,h3:first-child,.profile h2{margin:0px 0px .5em}p{font-size:14px;line-height:1.5}a{-webkit-transition:color .2s}strong{font-weight:600}header.main nav,.subheader div,.nav{display:block;margin:0px auto;width:1000px}.page{display:block;position:relative;margin:4.5em auto;width:1000px}.page.current{top:0px}article article,article.sectioned,article section,header section{margin-top:0px;padding:0px;background-position:0px 50%;background-repeat:initial initial}article article,article section{margin:0px}article,section,article.sectioned section,section.link_target,#updates,.page header{margin:0px auto 2%;padding:1.75% 2%;overflow:hidden}.page header{position:relative;overflow:visible}body[data-href="gaming"] .page header.two_columns p:first-child,body[data-href="business"] .page header.two_columns p:first-child{margin-top:0px}.page header hgroup{float:left;padding-right:2%;width:34%}.page header section{float:left;width:64%}.page header hgroup h1{font-weight:300;margin:0px 0px .5em}.page header hgroup h1 span,.page header hgroup h2{color:#5fa4a0;font-size:34px;font-weight:800;margin:0px}.page header hgroup h1+h2{margin-top:-.5em}.page header h3{font-size:22px;font-weight:300;text-transform:uppercase}.page header section,.page header aside{font-size:15px;margin:.25em 0px 0px}.page header section p{margin:0px 0px 1em}.page header p:last-child{margin-bottom:0px}.page header hgroup,.page header section,.page header .share,.page section{position:relative}.page header .share{position:absolute;bottom:15px;left:15px;z-index:2;display:block}.page header .share li{border-top-style:none!important}.page header .share a{background-image:none!important;padding-right:5px!important;background-position:initial initial!important;background-repeat:initial initial!important}.page header .share a img{width:32px;height:32px}.page header .share ul{list-style:none;margin:0px;padding:0px}.page header .share li{display:inline}.class_name,.browser_name{background-color:transparent;color:#333;font-size:11px;font-weight:400;line-height:1;padding:3px 5px;position:absolute;top:-15px;left:0px;opacity:0;text-align:center;text-transform:uppercase;-webkit-transition:all .1s ease-in-out;display:inline-block;background-position:initial initial;background-repeat:initial initial}.class:hover .class_name,.browser:hover .browser_name,.class:focus .class_name,.browser:focus .browser_name{opacity:1}.browsers{float:left;margin:0px .75em 0px .25em}.browser{float:left;height:17px;width:17px;background-image:url(http://1-ps.googleusercontent.com/x/s.html5rocks-hrd.appspot.com/www.html5rocks.com/static/images/browser_logos.png.pagespeed.ce.z_HVNR5Lmv.png);background-color:transparent;opacity:.25;margin:-1px .25em 0px 0px;position:relative;background-position:0% 0%;background-repeat:no-repeat no-repeat}.browser_name{left:-3px}.browser.ie .browser_name{white-space:nowrap}.browser.chrome{background-position:0% 0%}.browser.ff{background-position:-17px 0%}.browser.safari{background-position:-35px 0%}.browser.ie{background-position:-52px 0%}.browser.opera{background-position:-69px 0%}.browser.supported{opacity:1}.browser .support{display:none}.page header a[href^="http"]:not([href*="html5rocks."]), .tutorials a[href^="http"]:not([href*="html5rocks."]), .feed-section a[href^="http"]:not([href*="html5rocks"]), .info-section a[href^="http"]:not([href*="html5rocks."]), article section a[href^="http"]:not([href*="html5rocks"]), a[rel="external"] {background-image:url(http://www.html5rocks.com/en/tutorials/memory/effectivemanagement/?ModPagespeedFilters=compute_critical_css,decode_rewritten_urls,flatten_css_imports,inline_css,inline_import_to_link,rewrite_css&ModPagespeedCssFlattenMaxBytes=0&ModPagespeedCssImageInlineMaxBytes=0&ModPagespeedCssInlineMaxBytes=10485760);background-color:transparent;padding-right:16px;background-position:100% 50%;background-repeat:no-repeat no-repeat}body,input{font-family:'Open Sans',sans-serif;font-weight:400}header.main{background-color:#ed4732;width:100%;position:fixed;left:0px;top:0px;z-index:10;-webkit-font-smoothing:antialiased;font-weight:600;background-position:initial initial;background-repeat:initial initial}header.main #home_horns{display:none}header.main h1{display:none;color:#fff;font-size:1em;margin:0px;padding:0px 0px .2em .5em}header.main h1 a{color:#fff;font-weight:800}header.main nav ul{margin:.1em;padding:.4em .6em}header.main nav ul li{font-size:13px;display:inline-block}header.main nav ul li a{display:block;margin:.1em;padding:.4em;max-width:125px;white-space:nowrap}header.main nav .home{display:none}#title,header.main nav a{text-transform:uppercase}header.main nav a,header.main nav a:hover,header.main nav a:focus{color:#fff!important}header.main h1{display:none}#search_hide,#features_hide{padding:19px 0px 26px;cursor:pointer!important}#search_show{float:right}#search_show img{padding-left:4px;vertical-align:-2px}.gsc-completion-container td:hover,.gsc-completion-container td:focus{background-color:#4b7c7a;cursor:pointer!important;background-position:initial initial;background-repeat:initial initial}.subheader .features{padding-top:8px;padding-bottom:8px;overflow:hidden}.subheader .features #features_hide{padding-top:21px}.subheader .features #features_hide,.subheader .features h2{float:left}.subheader .features h2{color:#fff;font-size:48px;font-weight:300;margin:0px;padding:5px 0px 0px 15px;text-transform:uppercase}.subheader .features ul{list-style:none;float:left;margin:0px;padding:10px 0px 0px 20px;width:710px}.subheader .features ul li{float:left;margin:0px;padding:2px 0px}.subheader .features ul li a{background-image:url(http://1-ps.googleusercontent.com/x/s.html5rocks-hrd.appspot.com/www.html5rocks.com/static/images/subheader_classes.png.pagespeed.ce.PQMj445AuA.png);color:#fff;float:left;padding:3px 0px 4px 30px;text-transform:uppercase;width:112px;background-repeat:no-repeat no-repeat}.subheader .features ul li a.offline{background-position:0px 2px}.subheader .features ul li a.storage{background-position:0px -48px}.subheader .features ul li a.connectivity{background-position:0px -98px}.subheader .features ul li a.file_access{background-position:0px -149px}.subheader .features ul li a.semantics{background-position:0px -198px}.subheader .features ul li a.multimedia{background-position:0px -248px}.subheader .features ul li a.graphics{background-position:0px -298px}.subheader .features ul li a.presentation{background-position:0px -348px}.subheader .features ul li a.performance{background-position:0px -398px}.subheader .features ul li a.nuts_and_bolts{background-position:0px -448px}.subheader .features ul li a h3{font-size:14px;margin:0px}.watermark{position:fixed;left:50%;margin-left:-605px;top:30px;z-index:2;padding:20px;opacity:.65;width:68px;height:116px;background-image:url(http://www.html5rocks.com/en/tutorials/memory/effectivemanagement/?ModPagespeedFilters=compute_critical_css,decode_rewritten_urls,flatten_css_imports,inline_css,inline_import_to_link,rewrite_css&ModPagespeedCssFlattenMaxBytes=0&ModPagespeedCssImageInlineMaxBytes=0&ModPagespeedCssInlineMaxBytes=10485760);-webkit-transition: opacity 300ms ease-in-out, top 150ms ease-in-out;background-position:50% 50%;background-repeat:no-repeat no-repeat}.watermark:hover,.watermark:focus{opacity:1}.nav,.nav:hover,.nav:focus{text-shadow:#000 0px 0px 5px;color:#fff;overflow:hidden;cursor:pointer!important}.arrow_up,.arrow_right,.arrow_down,.arrow_left,nav.paginator a.previous,nav.paginator a.next{background-image:url(http://1-ps.googleusercontent.com/x/s.html5rocks-hrd.appspot.com/www.html5rocks.com/static/images/nav_arrows.png.pagespeed.ce.KD2i5JEPjT.png);font-size:14px;font-style:italic;text-align:center;text-transform:uppercase;background-repeat:no-repeat no-repeat}nav.paginator{display:none;position:fixed;left:50%;top:65px;margin-left:500px;width:100px;height:250px;overflow:hidden;z-index:2}nav.paginator ul{display:none;margin:0px;padding:0px}nav.paginator a.previous,nav.paginator a.next{display:block;text-shadow:#bbb 0px 0px 3px;overflow:hidden;position:absolute;width:100px;cursor:pointer!important}nav.paginator a.previous{padding:0px 0px 55px;background-position:50% -683px}nav.paginator a.next{padding:55px 0px 0px;top:135px;background-position:50% -500px}nav.paginator.features a{color:#555}nav.paginator.features a:hover,nav.paginator.features a:focus{color:#000}#classes li a:hover,#classes li a:focus{color:#5fa4a0}#classes li.offline a:hover,#classes li.offline a:focus{background-position:-121px 25px}#classes li.storage a:hover,#classes li.storage a:focus{background-position:-121px -117px}#classes li.connectivity a:hover,#classes li.connectivity a:focus{background-position:-121px -258px}#classes li.file_access a:hover,#classes li.file_access a:focus{background-position:-121px -399px}#classes li.semantics a:hover,#classes li.semantics a:focus{background-position:-121px -540px}#classes li.multimedia a:hover,#classes li.multimedia a:focus{background-position:-121px -681px}#classes li.graphics a:hover,#classes li.graphics a:focus{background-position:-121px -822px}#classes li.presentation a:hover,#classes li.presentation a:focus{background-position:-121px -963px}#classes li.performance a:hover,#classes li.performance a:focus{background-position:-121px -1104px}#classes li.nuts_and_bolts a:hover,#classes li.nuts_and_bolts a:focus{background-position:-121px -1245px}img[itemprop="photo"]{-webkit-transition:all .3s ease-out}.profile:hover img[itemprop="photo"],.profile:focus img[itemprop="photo"],img[itemprop="photo"]:hover{}.profile .urls li a:hover,.profile .urls li a:focus{opacity:1}.profile:hover .list-articles{color:#5fa4a0}.profile:focus .list-articles{color:#5fa4a0}body[data-href="profiles"] .profile:first-child, body[data-href="profiles"] .profile:nth-child(3n+1) {margin-left:0px}body[data-href="home"] .profile:first-child, body[data-href="home"] .profile:nth-child(4n+1) {margin-left:0px}body[data-href="features-offline"] .outline_nav_toggle,body[data-href="features-storage"] .outline_nav_toggle,body[data-href="features-connectivity"] .outline_nav_toggle,body[data-href="features-file_access"] .outline_nav_toggle,body[data-href="features-semantics"] .outline_nav_toggle,body[data-href="features-multimedia"] .outline_nav_toggle,body[data-href="features-graphics"] .outline_nav_toggle,body[data-href="features-presentation"] .outline_nav_toggle,body[data-href="features-performance"] .outline_nav_toggle,body[data-href="features-nuts_and_bolts"] .outline_nav_toggle,article.tutorial .outline_nav_toggle{display:block}.outline_nav_toggle{display:none;position:fixed;left:50%;top:145px;margin-left:525px;width:30px;height:30px;padding:10px;z-index:3;cursor:pointer!important}.outline_nav_toggle img{position:absolute;top:10px;left:10px;-webkit-transition:all .25s ease-in-out;z-index:4}.outline_nav_toggle img.show{z-index:5}nav.outline{display:none;background-color:#bebebe;position:absolute;right:50%;top:20px;padding:20px;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;box-shadow