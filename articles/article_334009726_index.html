<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <title></title>
  </head>
  <body>
        <!-- MAIN CONTENT -->
        <div id="main_content_wrap" class="outer">
        <textarea style="visibility:none" id="html-area">
<!doctype html&gt; 
<!--[if IEMobile 7 ]&gt; <html lang="en-US"class="no-js iem7"&gt; <![endif]--&gt;
<!--[if lt IE 7 ]&gt; <html lang="en-US" class="no-js ie6"&gt; <![endif]--&gt;
<!--[if IE 7 ]&gt;    <html lang="en-US" class="no-js ie7"&gt; <![endif]--&gt;
<!--[if IE 8 ]&gt;    <html lang="en-US" class="no-js ie8"&gt; <![endif]--&gt;
<!--[if (gte IE 9)|(gt IEMobile 7)|!(IEMobile)|!(IE)]&gt;<!--&gt;<html lang="en-US" class="no-js"&gt;<!--<![endif]--&gt;
	
	<head&gt;
		<meta charset="utf-8"&gt;
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt;
		
		<title&gt;
			  Automatic Inlining in JavaScript Engines 
		</title&gt;
				
		<meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
		
		<!-- icons & favicons --&gt;
		<!-- For iPhone 4 --&gt;
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/images/icons/h/apple-touch-icon.png"&gt;
		<!-- For iPad 1--&gt;
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/images/icons/m/apple-touch-icon.png"&gt;
		<!-- For iPhone 3G, iPod Touch and Android --&gt;
		<link rel="apple-touch-icon-precomposed" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/images/icons/l/apple-touch-icon-precomposed.png"&gt;
		<!-- For Nokia --&gt;
		<link rel="shortcut icon" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/images/icons/l/apple-touch-icon.png"&gt;
		<!-- For everything else --&gt;
		<!-- <link rel="shortcut icon" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/favicon.ico"&gt; --&gt;
				
		<!-- media-queries.js (fallback) --&gt;
		<!--[if lt IE 9]&gt;
			<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"&gt;</script&gt;			
		<![endif]--&gt;

		<!-- html5.js --&gt;
		<!--[if lt IE 9]&gt;
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"&gt;</script&gt;
		<![endif]--&gt;
		
  		<link rel="pingback" href="http://ariya.ofilabs.com/xmlrpc.php"&gt;

  		<link rel="stylesheet/less" type="text/css" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/less/bootstrap.less"&gt;
  		<link rel="stylesheet/less" type="text/css" href="http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/less/responsive.less"&gt;

		<!-- wordpress head functions --&gt;
		<link rel='stylesheet' id='wp-syntax-css-css'  href='http://ariya.ofilabs.com/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' /&gt;
<link rel='stylesheet' id='jetpack-widgets-css'  href='http://ariya.ofilabs.com/wp-content/plugins/jetpack/modules/widgets/widgets.css?ver=20121003' type='text/css' media='all' /&gt;
<link rel='stylesheet' id='bootstrap-css'  href='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/css/bootstrap.css?ver=1.0' type='text/css' media='all' /&gt;
<link rel='stylesheet' id='bootstrap-responsive-css'  href='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/css/responsive.css?ver=1.0' type='text/css' media='all' /&gt;
<link rel='stylesheet' id='wp-bootstrap-css'  href='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/style.css?ver=1.0' type='text/css' media='all' /&gt;
<link rel='stylesheet' id='sharedaddy-css'  href='http://ariya.ofilabs.com/wp-content/plugins/jetpack/modules/sharedaddy/sharing.css?ver=2.5' type='text/css' media='all' /&gt;
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/js/libs/jquery-1.7.1.min.js?ver=1.7.1'&gt;</script&gt;
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/js/bootstrap.min.js?ver=3.6.1'&gt;</script&gt;
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/js/scripts.js?ver=3.6.1'&gt;</script&gt;
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-content/themes/wordpress-bootstrap/library/js/modernizr.full.min.js?ver=3.6.1'&gt;</script&gt;
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-includes/js/comment-reply.min.js?ver=3.6.1'&gt;</script&gt;
<link rel='canonical' href='http://ariya.ofilabs.com/2013/04/automatic-inlining-in-javascript-engines.html' /&gt;
<link rel='shortlink' href='http://wp.me/p2lzjD-gX' /&gt;
<link rel="stylesheet" type="text/css" href="http://ariya.ofilabs.com/wp-content/plugins/microkids-related-posts/microkids-related-posts-default.css" /&gt;
<!-- Simple Google Analytics Begin --&gt;
<script type="text/javascript"&gt;
var _gaq = [['_setAccount','UA-24809129-1'],['_setDomainName','ariya.ofilabs.com'],['_trackPageLoadTime'],['_trackPageview']];(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script&gt;
<!-- Simple Google Analytics End --&gt;

<!-- Jetpack Open Graph Tags --&gt;
<meta property="og:type" content="article" /&gt;
<meta property="og:title" content="Automatic Inlining in JavaScript Engines" /&gt;
<meta property="og:url" content="http://ariya.ofilabs.com/2013/04/automatic-inlining-in-javascript-engines.html" /&gt;
<meta property="og:description" content="Back when JavaScript interpreters were still slow, avoiding a function call inside a performance-critical code was very much recommended. With the recent improvements to the modern JavaScript engin..." /&gt;
<meta property="og:site_name" content="don&#039;t code today what you can&#039;t debug tomorrow" /&gt;
<meta property="og:image" content="http://ariya.ofilabs.com/wp-content/uploads/2013/04/sportcar.png" /&gt;
<meta name="twitter:site" content="@jetpack" /&gt;
<meta name="twitter:image" content="http://ariya.ofilabs.com/wp-content/uploads/2013/04/sportcar.png" /&gt;
<meta name="twitter:card" content="photo" /&gt;
		<link rel="stylesheet" id="custom-css-css" type="text/css" href="http://ariya.ofilabs.com/?custom-css=1&#038;csblog=1&#038;cscache=6&#038;csrev=31" /&gt;
				<!-- end of wordpress head --&gt;

		<!-- theme options from options panel --&gt;
		<style&gt;
        h1, h2, h3, h4, h5, h6{ 
          font-family: "Helvetica Neue",Helvetica,Arial,sans-serif; 
          font-weight: bold; 
          color: #404040; 
        }
        body{ 
          font-family: "Helvetica Neue",Helvetica,Arial,sans-serif; 
          font-weight: normal; 
          color: #404040; 
        }
        .navbar-inner, .navbar .fill { 
          background-color: #222222;
        }#222222
        .navbar-inner, .navbar .fill {
          background-image: -khtml-gradient(linear, left top, left bottom, from(#222222), to(#333333));
          background-image: -moz-linear-gradient(top, #222222, #333333);
          background-image: -ms-linear-gradient(top, #222222, #333333);
          background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #222222), color-stop(100%, #333333));
          background-image: -webkit-linear-gradient(top, #222222, #3333332);
          background-image: -o-linear-gradient(top, #222222, #333333);
          background-image: linear-gradient(top, #222222, #333333);
          filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#222222', endColorstr='#3333332', GradientType=0);
        }
        .navbar .nav li a { 
          color: #BFBFBF;
        }
        .navbar .nav li a:hover { 
          color: #FFFFFF;
        }
          .dropdown-menu li &gt; a:hover, .dropdown-menu .active &gt; a, .dropdown-menu .active &gt; a:hover {
            background-color: #0088CC;
          }
        
          .dropdown-menu a{
            color: #555555 !important;
          }
        
        .hero-unit { 
          background-color: #F5F5F5;
        }
        #main article {
          border-bottom: none;
        }h1.h2 {
letter-spacing: -1px;
font-weight: normal;
}

div.postauthor &gt; div {
padding-right: 25px;
}

blockquote p {
font-size: 13px;
}

h1.singletitle {
letter-spacing: -1px;
font-weight: normal;
}

pre {
border: none;
padding: 2px;
background-color: transparent;
}

code {
color: black;
}

.related-posts {
margin-top: 20px;
}
        </style&gt;
						
	</head&gt;
	
	<body class="single single-post postid-1051 single-format-standard"&gt;
				
		<header role="banner"&gt;
		
			<div id="inner-header" class="clearfix"&gt;
				
				<div class="navbar navbar-fixed-top"&gt;
					<div class="navbar-inner"&gt;
						<div class="container-fluid nav-container"&gt;
							<nav role="navigation"&gt;
								<a class="brand" id="logo" title="" href="http://ariya.ofilabs.com"&gt;don&#039;t code today what you can&#039;t debug tomorrow</a&gt;
								
								<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"&gt;
							        <span class="icon-bar"&gt;</span&gt;
							        <span class="icon-bar"&gt;</span&gt;
							        <span class="icon-bar"&gt;</span&gt;
								</a&gt;
								
								<div class="nav-collapse"&gt;
									<ul id="menu-nav" class="nav"&gt;<li id="menu-item-970" class="menu-item menu-item-type-post_type menu-item-object-page"&gt;<a href="http://ariya.ofilabs.com/about"&gt;About</a&gt;</li&gt;
<li id="menu-item-1025" class="menu-item menu-item-type-post_type menu-item-object-page"&gt;<a href="http://ariya.ofilabs.com/highlights"&gt;Highlights</a&gt;</li&gt;
<li id="menu-item-972" class="menu-item menu-item-type-post_type menu-item-object-page"&gt;<a href="http://ariya.ofilabs.com/projects"&gt;Projects</a&gt;</li&gt;
<li id="menu-item-971" class="menu-item menu-item-type-post_type menu-item-object-page"&gt;<a href="http://ariya.ofilabs.com/talks"&gt;Talks</a&gt;</li&gt;
</ul&gt;								</div&gt;
								
							</nav&gt;
							
														
						</div&gt;
					</div&gt;
				</div&gt;
			
			</div&gt; <!-- end #inner-header --&gt;
		
		</header&gt; <!-- end header --&gt;
		
		<div class="container-fluid"&gt;			
			<div id="content" class="clearfix row-fluid"&gt;
			
				<div id="main" class="span8 clearfix" role="main"&gt;

										
					<article id="post-1051" class="post-1051 post type-post status-publish format-standard hentry category-uncategorized tag-javascript tag-optimization tag-v8 clearfix" role="article" itemscope itemtype="http://schema.org/BlogPosting"&gt;
						
						<header&gt;
						
														
							<div class="page-header"&gt;<h1 class="single-title" itemprop="headline"&gt;Automatic Inlining in JavaScript Engines</h1&gt;</div&gt;
							
							<p class="meta"&gt;<time datetime="2013-04-11" pubdate&gt;April 11, 2013</time&gt;.</p&gt;
							<p class="tags"&gt;<span class="tags-title"&gt;Tags:</span&gt; <a href="http://ariya.ofilabs.com/tag/javascript" rel="tag"&gt;javascript</a&gt; <a href="http://ariya.ofilabs.com/tag/optimization" rel="tag"&gt;optimization</a&gt; <a href="http://ariya.ofilabs.com/tag/v8" rel="tag"&gt;v8</a&gt;</p&gt;							

						
						</header&gt; <!-- end article header --&gt;
					
						<section class="post_content clearfix" itemprop="articleBody"&gt;
							<a href="http://openclipart.org/detail/173690/car-sport-automobilis-by-keistutis-173690" rel="attachment wp-att-1052"&gt;<img src="http://ariya.ofilabs.com/wp-content/uploads/2013/04/sportcar.png" alt="sportcar" class="alignright size-full wp-image-1052" /&gt;</a&gt;
<p class="lead"&gt;Back when JavaScript interpreters were still slow, avoiding a function call inside a performance-critical code was very much recommended. With the recent improvements to the modern JavaScript engines, this practice becomes less relevant. One important feature which reduces the need to worry about function call overhead is <strong&gt;automatic function inlining</strong&gt;.</p&gt;
<p&gt;Consider the following code:</p&gt;

<div class="wp_syntax"&gt;<table&gt;<tr&gt;<td class="code"&gt;<pre class="javascript" style="font-family:monospace;"&gt;<span style="color: #000066; font-weight: bold;"&gt;function</span&gt; square<span style="color: #009900;"&gt;&#40;</span&gt;x<span style="color: #009900;"&gt;&#41;</span&gt; <span style="color: #009900;"&gt;&#123;</span&gt;
  <span style="color: #000066; font-weight: bold;"&gt;return</span&gt; x <span style="color: #339933;"&gt;*</span&gt; x<span style="color: #339933;"&gt;;</span&gt;
<span style="color: #009900;"&gt;&#125;</span&gt;
 
<span style="color: #000066; font-weight: bold;"&gt;function</span&gt; f<span style="color: #009900;"&gt;&#40;</span&gt;x<span style="color: #009900;"&gt;&#41;</span&gt; <span style="color: #009900;"&gt;&#123;</span&gt;
  <span style="color: #000066; font-weight: bold;"&gt;var</span&gt; sum <span style="color: #339933;"&gt;=</span&gt; <span style="color: #CC0000;"&gt;0</span&gt;<span style="color: #339933;"&gt;;</span&gt;
  <span style="color: #000066; font-weight: bold;"&gt;for</span&gt; <span style="color: #009900;"&gt;&#40;</span&gt;<span style="color: #000066; font-weight: bold;"&gt;var</span&gt; i <span style="color: #339933;"&gt;=</span&gt; <span style="color: #CC0000;"&gt;0</span&gt;<span style="color: #339933;"&gt;;</span&gt; i <span style="color: #339933;"&gt;&lt;</span&gt; x<span style="color: #339933;"&gt;;</span&gt; i<span style="color: #339933;"&gt;++</span&gt;<span style="color: #009900;"&gt;&#41;</span&gt; <span style="color: #009900;"&gt;&#123;</span&gt;
    sum <span style="color: #339933;"&gt;+=</span&gt; square<span style="color: #009900;"&gt;&#40;</span&gt;i<span style="color: #009900;"&gt;&#41;</span&gt;<span style="color: #339933;"&gt;;</span&gt;
  <span style="color: #009900;"&gt;&#125;</span&gt;
  <span style="color: #000066; font-weight: bold;"&gt;return</span&gt; sum<span style="color: #339933;"&gt;;</span&gt;
<span style="color: #009900;"&gt;&#125;</span&gt;</pre&gt;</td&gt;</tr&gt;</table&gt;</div&gt;

<p&gt;If <code&gt;x</code&gt; is a large number, invoking <code&gt;f(x)</code&gt; will cause a lot of function call to <code&gt;square</code&gt;. Even if the overhead is small, it can become significant when accumulated over a bazillion calls. This promotes the best practice of avoiding function calls within such a loop.</p&gt;
<p&gt;Fortunately, a modern JavaScript engine may sense that this part of the code is pretty <strong&gt;hot</strong&gt; (due to the extensive loop) and decide to optimize it. Among many others optimization, a simple thing to do is not to invoke <code&gt;square</code&gt; for every iteration. Since the implementation of that function is rather <em&gt;simple</em&gt; and it does <em&gt;not</em&gt; have any side effects, it is rather easy to inline it automatically. In other words, your code would be executed as if you would have written it this way:</p&gt;

<div class="wp_syntax"&gt;<table&gt;<tr&gt;<td class="code"&gt;<pre class="javascript" style="font-family:monospace;"&gt;<span style="color: #000066; font-weight: bold;"&gt;function</span&gt; f<span style="color: #009900;"&gt;&#40;</span&gt;x<span style="color: #009900;"&gt;&#41;</span&gt; <span style="color: #009900;"&gt;&#123;</span&gt;
  <span style="color: #000066; font-weight: bold;"&gt;var</span&gt; sum <span style="color: #339933;"&gt;=</span&gt; <span style="color: #CC0000;"&gt;0</span&gt;<span style="color: #339933;"&gt;;</span&gt;
  <span style="color: #000066; font-weight: bold;"&gt;for</span&gt; <span style="color: #009900;"&gt;&#40;</span&gt;<span style="color: #000066; font-weight: bold;"&gt;var</span&gt; i <span style="color: #339933;"&gt;=</span&gt; <span style="color: #CC0000;"&gt;0</span&gt;<span style="color: #339933;"&gt;;</span&gt; i <span style="color: #339933;"&gt;&lt;</span&gt; x<span style="color: #339933;"&gt;;</span&gt; i<span style="color: #339933;"&gt;++</span&gt;<span style="color: #009900;"&gt;&#41;</span&gt; <span style="color: #009900;"&gt;&#123;</span&gt;
    sum <span style="color: #339933;"&gt;+=</span&gt; i <span style="color: #339933;"&gt;*</span&gt; i<span style="color: #339933;"&gt;;</span&gt;
  <span style="color: #009900;"&gt;&#125;</span&gt;
  <span style="color: #000066; font-weight: bold;"&gt;return</span&gt; sum<span style="color: #339933;"&gt;;</span&gt;
<span style="color: #009900;"&gt;&#125;</span&gt;</pre&gt;</td&gt;</tr&gt;</table&gt;</div&gt;

<p&gt;How can we verify this? Here is one possible approach: by using V8 debugger shell (as <a href="http://floitsch.blogspot.com/2012/03/optimizing-for-v8-inlining.html"&gt;described by Florian Loitsch</a&gt;). First, let add some more lines to the original code for the purpose of stressing the execution:</p&gt;

<div class="wp_syntax"&gt;<table&gt;<tr&gt;<td class="code"&gt;<pre class="javascript" style="font-family:monospace;"&gt;<span style="color: #000066; font-weight: bold;"&gt;for</span&gt; <span style="color: #009900;"&gt;&#40;</span&gt;<span style="color: #000066; font-weight: bold;"&gt;var</span&gt; x <span style="color: #339933;"&gt;=</span&gt; <span style="color: #CC0000;"&gt;0</span&gt;<span style="color: #339933;"&gt;;</span&gt; x <span style="color: #339933;"&gt;&lt;</span&gt; <span style="color: #CC0000;"&gt;10000</span&gt;<span style="color: #339933;"&gt;;</span&gt; <span style="color: #339933;"&gt;++</span&gt;x<span style="color: #009900;"&gt;&#41;</span&gt; f<span style="color: #009900;"&gt;&#40;</span&gt;1e4<span style="color: #009900;"&gt;&#41;</span&gt;<span style="color: #339933;"&gt;;</span&gt;</pre&gt;</td&gt;</tr&gt;</table&gt;</div&gt;

<p&gt;Now, if you have <a href="https://developers.google.com/v8/build"&gt;built V8</a&gt; and get its debugging shell <code&gt;d8</code&gt;, it's a matter of running:</p&gt;

<div class="wp_syntax"&gt;<table&gt;<tr&gt;<td class="code"&gt;<pre class="bash" style="font-family:monospace;"&gt;d8 <span style="color: #660033;"&gt;--trace-inlining</span&gt; sum.js</pre&gt;</td&gt;</tr&gt;</table&gt;</div&gt;

<p&gt;which will give (among other informational messages):</p&gt;
<pre&gt;Inlined square called from f.</pre&gt;
<p&gt;indicating that V8 finally decides not to invoke the function too many times and to just inline it.</p&gt;
<p&gt;If you always worry about manual function inlining, this is a good time to revisit that thought. Simply write the code to be readable even if it means breaking the code into multiple small functions! In many cases, we can trust the modern JavaScript engines to automatically inline those functions.</p&gt;
<div class="related-posts"&gt;
<div id="related-posts-MRP_all" class="related-posts-type"&gt;
<h4&gt;Related Posts:</h4&gt;
<ul&gt;
<li&gt;<a href="http://ariya.ofilabs.com/2012/11/optimization-journey-vs-destination.html"&gt;Optimization: Journey vs Destination</a&gt;</li&gt;
<li&gt;<a href="http://ariya.ofilabs.com/2012/08/determining-objects-in-a-set-examples-in-javascript.html"&gt;Determining Objects in a Set: Examples in JavaScript </a&gt;</li&gt;
<li&gt;<a href="http://ariya.ofilabs.com/2012/07/lazy-parsing-in-javascript-engines.html"&gt;Lazy Parsing in JavaScript Engines</a&gt;</li&gt;
<li&gt;<a href="http://ariya.ofilabs.com/2012/02/javascript-object-structure-speed-matters.html"&gt;JavaScript object structure: speed matters</a&gt;</li&gt;
</ul&gt;</div&gt;
</div&gt;							
												
						</section&gt; <!-- end article section --&gt;
						
						<footer&gt;
			
														
						</footer&gt; <!-- end article footer --&gt;
					
					</article&gt; <!-- end article --&gt;
					
					
<div id="disqus_thread"&gt;
                    <div id="dsq-content"&gt;


            <ul id="dsq-comments"&gt;
                    <li class="comment even thread-even depth-1" id="dsq-comment-4036"&gt;
        <div id="dsq-comment-header-4036" class="dsq-comment-header"&gt;
            <cite id="dsq-cite-4036"&gt;
http://www.facebook.com/BikeAnimal                <span id="dsq-author-user-4036"&gt;George White</span&gt;
            </cite&gt;
        </div&gt;
        <div id="dsq-comment-body-4036" class="dsq-comment-body"&gt;
            <div id="dsq-comment-message-4036" class="dsq-comment-message"&gt;<p&gt;Nice theory.</p&gt;
<p&gt;Who can afford to code to recently improved modern JavaScript engines though?</p&gt;
</div&gt;
        </div&gt;

    <ul class="children"&gt;
    <li class="comment odd alt depth-2" id="dsq-comment-4039"&gt;
        <div id="dsq-comment-header-4039" class="dsq-comment-header"&gt;
            <cite id="dsq-cite-4039"&gt;
http://ariya.ofilabs.com/                <span id="dsq-author-user-4039"&gt;Ariya Hidayat</span&gt;
            </cite&gt;
        </div&gt;
        <div id="dsq-comment-body-4039" class="dsq-comment-body"&gt;
            <div id="dsq-comment-message-4039" class="dsq-comment-message"&gt;<p&gt;The near-future generation.</p&gt;
</div&gt;
        </div&gt;

    </li&gt;<!-- #comment-## --&gt;
    <li class="comment even depth-2" id="dsq-comment-4046"&gt;
        <div id="dsq-comment-header-4046" class="dsq-comment-header"&gt;
            <cite id="dsq-cite-4046"&gt;
                <span id="dsq-author-user-4046"&gt;Niloy Mondal</span&gt;
            </cite&gt;
        </div&gt;
        <div id="dsq-comment-body-4046" class="dsq-comment-body"&gt;
            <div id="dsq-comment-message-4046" class="dsq-comment-message"&gt;<p&gt;NodeJS</p&gt;
</div&gt;
        </div&gt;

    </li&gt;<!-- #comment-## --&gt;
</ul&gt;<!-- .children --&gt;
</li&gt;<!-- #comment-## --&gt;
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-4038"&gt;
        <div id="dsq-comment-header-4038" class="dsq-comment-header"&gt;
            <cite id="dsq-cite-4038"&gt;
http://twitter.com/gvidon                <span id="dsq-author-user-4038"&gt;gvidon</span&gt;
            </cite&gt;
        </div&gt;
        <div id="dsq-comment-body-4038" class="dsq-comment-body"&gt;
            <div id="dsq-comment-message-4038" class="dsq-comment-message"&gt;<p&gt;Don&#8217;t you think that well formated inline code is more readable? Just imagine many small functions and each one need to be examined when you read/debug code. Each one function call is the reference to _somewhere_ in the code base and you have to find this place or open another source file in editor to know what this function do.</p&gt;
<p&gt;I would create function if only it is used more than once.</p&gt;
</div&gt;
        </div&gt;

    <ul class="children"&gt;
    <li class="comment even depth-2" id="dsq-comment-4040"&gt;
        <div id="dsq-comment-header-4040" class="dsq-comment-header"&gt;
            <cite id="dsq-cite-4040"&gt;
http://ariya.ofilabs.com/                <span id="dsq-author-user-4040"&gt;Ariya Hidayat</span&gt;
            </cite&gt;
        </div&gt;
        <div id="dsq-comment-body-4040" class="dsq-comment-body"&gt;
            <div id="dsq-comment-message-4040" class="dsq-comment-message"&gt;<p&gt;I am not saying you should split everything into small functions, just do it sensibly. But the typical concern &#8216;I don&#8217;t like to refactor this because inlined is faster&#8217; should not be the main showstopping factor.</p&gt;
<p&gt;There is also lazy parsing (<a href="http://ariya.ofilabs.com/2012/07/lazy-parsing-in-javascript-engines.html" rel="nofollow"&gt;http://ariya.ofilabs.com/2012/07/lazy-parsing-in-javascript-engines.html</a&gt;) which means that if a function may or may not be executed, better separate it to reduce the memory usage.</p&gt;
</div&gt;
        </div&gt;

    </li&gt;<!-- #comment-## --&gt;
    <li class="comment odd alt depth-2" id="dsq-comment-4041"&gt;
        <div id="dsq-comment-header-4041" class="dsq-comment-header"&gt;
            <cite id="dsq-cite-4041"&gt;
http://twitter.com/marcdix                <span id="dsq-author-user-4041"&gt;Marc Dix</span&gt;
            </cite&gt;
        </div&gt;
        <div id="dsq-comment-body-4041" class="dsq-comment-body"&gt;
            <div id="dsq-comment-message-4041" class="dsq-comment-message"&gt;<p&gt;Hi gvidon,</p&gt;
<p&gt;no it&#8217;s not. </p&gt;
<p&gt;First of all: it&#8217;s too much detail. It&#8217;s totally sufficient to know that something happens, most of the time it&#8217;s not from interest how it happens.</p&gt;
<p&gt;Example from a html5 video api project:<br /&gt;
mmhtml5.player.prototype.updateTime = function() {<br /&gt;
 var formattedTime = this._formatTime();<br /&gt;
 this.controls.find(&#8216;.time&#8217;).html(formattedTime);<br /&gt;
}</p&gt;
<p&gt;I absolutely don&#8217;t care how the time is formatted. I just know, by reading the function name, that this function updates the time with a formatted time. If I want to know what it does in detail (e. g. if I have to improve the formatting) I just trust my IDE and use &#8216;go to declaration&#8217; and check the method. I don&#8217;t care where the function is / search for it. (Of course I literally care, where it is defined &#8211; nice OOP encapsulation is mandatory.)</p&gt;
<p&gt;Also: The smaller a function is, the more likely you&#8217;ll be able to reuse it later. These moments when you say &#8216;oh, ok, to get this done I got to calculate the oh wait, I did that already, lets plug it in here&#8230; oh, it works&#8230; *backslapping* now for some coffee, what a hard job&#8230; <img src='http://ariya.ofilabs.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /&gt; &#8217;.</p&gt;
<p&gt;When using small functions you can also avoid comments by using a descriptive function name that basically consists of the comment.</p&gt;
<p&gt;I&#8217;d suggest you read clean code (uncle bob), refactoring (martin fowler) and working effectively with legacy code (uncle bob). Those books are awesome and they&#8217;ll help you becoming a much better programmer / improve the quality of your code. I bet you&#8217;ll use small functions after reading at least one of them. <img src='http://ariya.ofilabs.com/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /&gt; </p&gt;
<p&gt;Kind regards<br /&gt;
Marc Dix</p&gt;
</div&gt;
        </div&gt;

    <ul class="children"&gt;
    <li class="comment even depth-3" id="dsq-comment-4044"&gt;
        <div id="dsq-comment-header-4044" class="dsq-comment-header"&gt;
            <cite id="dsq-cite-4044"&gt;
http://twitter.com/gvidon                <span id="dsq-author-user-4044"&gt;gvidon</span&gt;
            </cite&gt;
        </div&gt;
        <div id="dsq-comment-body-4044" class="dsq-comment-body"&gt;
            <div id="dsq-comment-message-4044" class="dsq-comment-message"&gt;<p&gt;How much time do you spend on creating semantic function name? How much are you sad when after refactoring of the code base and some parts of the function its name stop being semantic to its job? (you should apologize my english, but perhaps you understand the idea)</p&gt;
<p&gt;I still confident that creating function that is used just once is wrong. It make you spent time on creating the name, keep the name semantic to function job, you waste your time when during refactoring/debug of long source code you need to stop reading it and open another one to find some function your teammate called stupidly and placed in the wrong place.</p&gt;
</div&gt;
        </div&gt;

    </li&gt;<!-- #comment-## --&gt;
</ul&gt;<!-- .children --&gt;
</li&gt;<!-- #comment-## --&gt;
</ul&gt;<!-- .children --&gt;
</li&gt;<!-- #comment-## --&gt;
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-4043"&gt;
        <div id="dsq-comment-header-4043" class="dsq-comment-header"&gt;
            <cite id="dsq-cite-4043"&gt;
http://twitter.com/jneiku                <span id="dsq-author-user-4043"&gt;jneiku</span&gt;
            </cite&gt;
        </div&gt;
        <div id="dsq-comment-body-4043" class="dsq-comment-body"&gt;
            <div id="dsq-comment-message-4043" class="dsq-comment-message"&gt;<p&gt;Does this mean that something like Google Closure Compiler is becoming less valuable when it comes to modern browsers?</p&gt;
</div&gt;
        </div&gt;

    </li&gt;<!-- #comment-## --&gt;
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-4045"&gt;
        <div id="dsq-comment-header-4045" class="dsq-comment-header"&gt;
            <cite id="dsq-cite-4045"&gt;
                <span id="dsq-author-user-4045"&gt;Ray Bellis</span&gt;
            </cite&gt;
        </div&gt;
        <div id="dsq-comment-body-4045" class="dsq-comment-body"&gt;
            <div id="dsq-comment-message-4045" class="dsq-comment-message"&gt;<p&gt;I suggest you rename the &#8216;x&#8217; from &#8216;f(x)&#8217; referred to in the text to &#8216;n&#8217; to disambiguate from &#8216;square(x)&#8217;</p&gt;
</div&gt;
        </div&gt;

    </li&gt;<!-- #comment-## --&gt;
            </ul&gt;


        </div&gt;

    </div&gt;

<script type="text/javascript"&gt;
/* <![CDATA[ */
    var disqus_url = 'http://ariya.ofilabs.com/2013/04/automatic-inlining-in-javascript-engines.html';
    var disqus_identifier = '1051 http://ariya.ofilabs.com/?p=1051';
    var disqus_container_id = 'disqus_thread';
    var disqus_domain = 'disqus.com';
    var disqus_shortname = 'ariya';
    var disqus_title = "Automatic Inlining in JavaScript Engines";
        var disqus_config = function () {
        var config = this; // Access to the config object
        config.language = '';

        /*
           All currently supported events:
            * preData — fires just before we request for initial data
            * preInit - fires after we get initial data but before we load any dependencies
            * onInit  - fires when all dependencies are resolved but before dtpl template is rendered
            * afterRender - fires when template is rendered but before we show it
            * onReady - everything is done
         */

        config.callbacks.preData.push(function() {
            // clear out the container (its filled for SEO/legacy purposes)
            document.getElementById(disqus_container_id).innerHTML = '';
        });
                config.callbacks.onReady.push(function() {
            // sync comments in the background so we don't block the page
            var script = document.createElement('script');
            script.async = true;
            script.src = '?cf_action=sync_comments&post_id=1051';

            var firstScript = document.getElementsByTagName( "script" )[0];
            firstScript.parentNode.insertBefore(script, firstScript);
        });
                    };
/* ]]&gt; */
</script&gt;

<script type="text/javascript"&gt;
/* <![CDATA[ */
    var DsqLocal = {
        'trackbacks': [
        ],
        'trackback_url': "http:\/\/ariya.ofilabs.com\/2013\/04\/automatic-inlining-in-javascript-engines.html\/trackback"    };
/* ]]&gt; */
</script&gt;

<script type="text/javascript"&gt;
/* <![CDATA[ */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/embed.js?pname=wordpress&pver=2.74';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
/* ]]&gt; */
</script&gt;
					
								
					
								
				</div&gt; <!-- end #main --&gt;
    
								<div id="sidebar1" class="fluid-sidebar sidebar span4" role="complementary"&gt;
				
					
						<div id="search-2" class="widget widget_search"&gt;<form role="search" method="get" id="searchform" action="http://ariya.ofilabs.com/" &gt;
    <label class="screen-reader-text" for="s"&gt;Search for:</label&gt;
    <input type="text" value="" name="s" id="s" placeholder="Search the Site..." /&gt;
    <input type="submit" id="searchsubmit" value="Search" /&gt;
    </form&gt;</div&gt;<div id="text-3" class="widget widget_text"&gt;<h4 class="widgettitle"&gt;whoami</h4&gt;			<div class="textwidget"&gt;<p&gt;My name is <strong&gt;Ariya Hidayat</strong&gt;. These days, I promote <strong&gt;software craftsmanship</strong&gt;, JavaScript, HTML5, CSS3, and general web technologies. I <a href="/highlights"&gt;write</a&gt; blog posts regularly and <a href="/talks"&gt;speak</a&gt; at developer events from time to time.</p&gt;
<p&gt;I am a <a href="/about"&gt;big believer</a&gt; in sharing and openness. I have been involved with FOSS (free/open-source software), contributing code to projects such as KDE, Qt, and WebKit. In my little spare time, I also run <a href="/projects"&gt;projects</a&gt; such as <a href="http://phantomjs.org"&gt;PhantomJS</a&gt; (browser automation) and <a href="http://esprima.org"&gt;Esprima</a&gt; (JavaScript parser).</p&gt;
</div&gt;
		</div&gt;		<div id="recent-posts-2" class="widget widget_recent_entries"&gt;		<h4 class="widgettitle"&gt;Recent Posts</h4&gt;		<ul&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/09/the-fabulous-edge-new-york-2013.html" title="The Fabulous Edge New York 2013"&gt;The Fabulous Edge New York 2013</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/09/fast-forward-git-merge.html" title="Fast-Forward Git Merge"&gt;Fast-Forward Git Merge</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/09/scope-analysis-for-javascript-code.html" title="Scope Analysis for JavaScript Code"&gt;Scope Analysis for JavaScript Code</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/09/autumn-2013-conferences.html" title="Autumn 2013 Conferences"&gt;Autumn 2013 Conferences</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/08/2013-nexus-7-javascript-performance-quick-check.html" title="2013 Nexus 7 JavaScript Performance Quick Check"&gt;2013 Nexus 7 JavaScript Performance Quick Check</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/08/searching-with-array-prototype-some.html" title="Searching with Array.prototype.some"&gt;Searching with Array.prototype.some</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/08/javascript-kinetic-scrolling-part-1.html" title="JavaScript Kinetic Scrolling: Part 1"&gt;JavaScript Kinetic Scrolling: Part 1</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/08/continuous-painting-mode-in-chrome.html" title="Continuous Painting Mode in Chrome"&gt;Continuous Painting Mode in Chrome</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/07/encouraging-shorter-tech-talk.html" title="Encouraging Shorter Tech Talk"&gt;Encouraging Shorter Tech Talk</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/07/profile-guided-javascript-optimization.html" title="Profile-Guided JavaScript Optimization"&gt;Profile-Guided JavaScript Optimization</a&gt;
						</li&gt;
				</ul&gt;
		</div&gt;<div id="rss_links-2" class="widget widget_rss_links"&gt;<p&gt;<a href="http://ariya.ofilabs.com/feed" title="Subscribe to Posts"&gt;<img src="http://ariya.ofilabs.com/wp-content/plugins/jetpack/_inc/images/rss/green-small.png" alt="RSS Feed" /&gt;</a&gt;&nbsp;<a href="http://ariya.ofilabs.com/feed" title="Subscribe to Posts"&gt;RSS - Posts</a&gt;</p&gt;
</div&gt;<div id="text-4" class="widget widget_text"&gt;<h4 class="widgettitle"&gt;Notice</h4&gt;			<div class="textwidget"&gt;This blog is my personal space. Unless otherwise noted, I don't discuss activities related to my professional work. All opinions expressed in this blog are my own and do not necessarily represent the official view of my employer.
</div&gt;
		</div&gt;<div id="calendar-3" class="widget widget_calendar"&gt;<div id="calendar_wrap"&gt;<table id="wp-calendar"&gt;
	<caption&gt;April 2013</caption&gt;
	<thead&gt;
	<tr&gt;
		<th scope="col" title="Monday"&gt;M</th&gt;
		<th scope="col" title="Tuesday"&gt;T</th&gt;
		<th scope="col" title="Wednesday"&gt;W</th&gt;
		<th scope="col" title="Thursday"&gt;T</th&gt;
		<th scope="col" title="Friday"&gt;F</th&gt;
		<th scope="col" title="Saturday"&gt;S</th&gt;
		<th scope="col" title="Sunday"&gt;S</th&gt;
	</tr&gt;
	</thead&gt;

	<tfoot&gt;
	<tr&gt;
		<td colspan="3" id="prev"&gt;<a href="http://ariya.ofilabs.com/2013/03" title="View posts for March 2013"&gt;&laquo; Mar</a&gt;</td&gt;
		<td class="pad"&gt;&nbsp;</td&gt;
		<td colspan="3" id="next"&gt;<a href="http://ariya.ofilabs.com/2013/05" title="View posts for May 2013"&gt;May &raquo;</a&gt;</td&gt;
	</tr&gt;
	</tfoot&gt;

	<tbody&gt;
	<tr&gt;<td&gt;1</td&gt;<td&gt;2</td&gt;<td&gt;3</td&gt;<td&gt;4</td&gt;<td&gt;5</td&gt;<td&gt;<a href="http://ariya.ofilabs.com/2013/04/06" title="Automagic Removal of JavaScript Logging"&gt;6</a&gt;</td&gt;<td&gt;7</td&gt;
	</tr&gt;
	<tr&gt;
		<td&gt;8</td&gt;<td&gt;<a href="http://ariya.ofilabs.com/2013/04/09" title="CSS Preload Scanner in WebKit"&gt;9</a&gt;</td&gt;<td&gt;10</td&gt;<td&gt;<a href="http://ariya.ofilabs.com/2013/04/11" title="Automatic Inlining in JavaScript Engines"&gt;11</a&gt;</td&gt;<td&gt;12</td&gt;<td&gt;13</td&gt;<td&gt;14</td&gt;
	</tr&gt;
	<tr&gt;
		<td&gt;15</td&gt;<td&gt;16</td&gt;<td&gt;<a href="http://ariya.ofilabs.com/2013/04/17" title="Web Page Clipping with PhantomJS"&gt;17</a&gt;</td&gt;<td&gt;<a href="http://ariya.ofilabs.com/2013/04/18" title="JavaScript Variable Scope and Highlight"&gt;18</a&gt;</td&gt;<td&gt;19</td&gt;<td&gt;20</td&gt;<td&gt;21</td&gt;
	</tr&gt;
	<tr&gt;
		<td&gt;22</td&gt;<td&gt;23</td&gt;<td&gt;<a href="http://ariya.ofilabs.com/2013/04/24" title="Rename Refactoring for JavaScript Code"&gt;24</a&gt;</td&gt;<td&gt;25</td&gt;<td&gt;26</td&gt;<td&gt;27</td&gt;<td&gt;28</td&gt;
	</tr&gt;
	<tr&gt;
		<td&gt;29</td&gt;<td&gt;<a href="http://ariya.ofilabs.com/2013/04/30" title="UI Patterns of Android News Applications"&gt;30</a&gt;</td&gt;
		<td class="pad" colspan="5"&gt;&nbsp;</td&gt;
	</tr&gt;
	</tbody&gt;
	</table&gt;</div&gt;</div&gt;
					
				</div&gt;    
			</div&gt; <!-- end #content --&gt;

			<footer role="contentinfo"&gt;
			
				<div id="inner-footer" class="clearfix"&gt;
		          <hr /&gt;
		          <div id="widget-footer" class="clearfix row-fluid"&gt;
		            		<div id="recent-posts-3" class="widget span4 widget_recent_entries"&gt;		<h4 class="widgettitle"&gt;Recent Posts</h4&gt;		<ul&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/09/the-fabulous-edge-new-york-2013.html" title="The Fabulous Edge New York 2013"&gt;The Fabulous Edge New York 2013</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/09/fast-forward-git-merge.html" title="Fast-Forward Git Merge"&gt;Fast-Forward Git Merge</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/09/scope-analysis-for-javascript-code.html" title="Scope Analysis for JavaScript Code"&gt;Scope Analysis for JavaScript Code</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/09/autumn-2013-conferences.html" title="Autumn 2013 Conferences"&gt;Autumn 2013 Conferences</a&gt;
						</li&gt;
					<li&gt;
				<a href="http://ariya.ofilabs.com/2013/08/2013-nexus-7-javascript-performance-quick-check.html" title="2013 Nexus 7 JavaScript Performance Quick Check"&gt;2013 Nexus 7 JavaScript Performance Quick Check</a&gt;
						</li&gt;
				</ul&gt;
		</div&gt;		            <div id="text-5" class="widget span4 widget_text"&gt;<h4 class="widgettitle"&gt;Imprint</h4&gt;			<div class="textwidget"&gt;Certain links, including hypertext links, in my blog will take you outside my blog. Links are provided for your convenience and inclusion of any link does not imply endorsement or approval of the linked site, its operator or its content. I am not responsible for the content of any website outside of my blog.</div&gt;
		</div&gt;		            <div id="blog_subscription-2" class="widget span4 jetpack_subscription_widget"&gt;<h4 class="widgettitle"&gt;<label for="subscribe-field"&gt;Subscribe</label&gt;</h4&gt;
		<form action="" method="post" accept-charset="utf-8" id="subscribe-blog-blog_subscription-2"&gt;
			<p&gt;Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p&gt;
			<p&gt;<input type="text" name="email" style="width: 95%; padding: 1px 2px" value="Email Address" id="subscribe-field" onclick="if ( this.value == 'Email Address' ) { this.value = ''; }" onblur="if ( this.value == '' ) { this.value = 'Email Address'; }" /&gt;</p&gt;

			<p&gt;
				<input type="hidden" name="action" value="subscribe" /&gt;
				<input type="hidden" name="source" value="http://ariya.ofilabs.com/2013/04/automatic-inlining-in-javascript-engines.html" /&gt;
				<input type="hidden" name="sub-type" value="widget" /&gt;
				<input type="hidden" name="redirect_fragment" value="blog_subscription-2" /&gt;
								<input type="submit" value="Subscribe" name="jetpack_subscriptions_widget" /&gt;
			</p&gt;
		</form&gt;

		
</div&gt;		          </div&gt;
					
					<nav class="clearfix"&gt;
											</nav&gt;
					
					<p class="pull-right"&gt;<a href="http://320press.com" id="credit320" title="By the dudes of 320press"&gt;320press</a&gt;</p&gt;
			
					<p class="attribution"&gt;&copy; 2005-2013 Ariya Hidayat</p&gt;
				
				</div&gt; <!-- end #inner-footer --&gt;
				
			</footer&gt; <!-- end footer --&gt;
		
		</div&gt; <!-- end #container --&gt;
				
		<!--[if lt IE 7 ]&gt;
  			<script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"&gt;</script&gt;
  			<script&gt;window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script&gt;
		<![endif]--&gt;
		
			<div style="display:none"&gt;
	</div&gt;
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201340'&gt;</script&gt;
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2013Sepaa'&gt;</script&gt;
<script type='text/javascript'&gt;
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]&gt; */
</script&gt;
<script type='text/javascript' src='http://ariya.ofilabs.com/wp-content/plugins/jetpack/modules/wpgroho.js?ver=3.6.1'&gt;</script&gt;

	<script src="http://stats.wordpress.com/e-201340.js" type="text/javascript"&gt;</script&gt;
	<script type="text/javascript"&gt;
	st_go({v:'ext',j:'1:2.5',blog:'34693317',post:'1051',tz:'-7'});
	var load_cmc = function(){linktracker_init(34693317,1051,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script&gt;
	</body&gt;

</html&gt;
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Page Caching using memcached

Served from: ariya.ofilabs.com @ 2013-09-30 03:19:48 --&gt;
        </textarea>
        </div>
        <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
        <script src="../js/clearly.js"></script>
        <script>
            var html = window.__getMyClearlyResults().html;
            $('#main_content_wrap').html(html);
        </script>
  </body>
</html>
