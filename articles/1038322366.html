<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>iOS 7 Chrome</title>
<link rel="stylesheet" href="../css/article.css" />
</head>
<body>
<div class="m-content">
<h1>iOS 7 Chrome</h1>
<div class="post-text" itemprop="text"><span>

        </span><p>I have a bottom drawer which is fix positioned at the bottom. When tapped, the drawer will slide up and show more content.  On iOS 7, when user taps on input tag or textarea tag, the virtual keyboard pops up. However, the drawer jumps up on the page instead of sticking to the bottom when keypad pops up. Please see the diagram below for illustration.
<img src="http://i.stack.imgur.com/kCfwe.png" alt="enter image description here" /></p><span>

</span><p>I firstly encountered the issue also on Safari, but I added the following code to change the fixed position to absolute when keypad is open:</p><span>

</span><pre><code>// Apple.Device detects if it is an apple device
if (Modernizr.touch &amp;&amp; Apple.Device) {
    /* cache dom references */ 
    var $body = jQuery('body'); 

    /* bind events */
    $(document)
    .on('focus', 'input, textarea', function(e) {
        $body.addClass('fixfixed');
    })
    .on('blur', 'input, textarea', function(e) {
        $body.removeClass('fixfixed');
    });
} 
</code></pre><span>

</span><p>CSS code:</p><span>

</span><pre><code>.fixfixed #drawer {
    bottom: 0;
    margin-left: auto;
    margin-right: auto;
    position: absolute;
    left: 0;
    right: 0;
}
</code></pre><span>

</span><p>This fix works on Safari on iOS 7 but it doesn't work on Chrome. Also, there is a weired behavior: </p><span>

</span><p>If there is an input tag on the page and I tap on it on iPad, then the virtual keyboard opens and the drawer jumps up. If the drawer happens to then cover the  I clicked on, the click event actually fires on the drawer. Why is that?</p><span>

</span><p>How can I resolve this issue? (I've been searching for a while but how do I debug Chrome on iOS?)</p><span>

</span><p>Many thanks for your help!</p><span>

</span><p><strong>Update</strong></p><span>

</span><p>I've used the following code to detect if it is Chrome on iOS 7, if so, I hide the Drawer when the virtual keyboard is up, and re-display the drawer when virtual keyboard is down.</p><span>

</span><pre><code>function iOSversion() {
    if (/iP(hone|od|ad)/.test(navigator.platform)) {
        // supports iOS 2.0 and later: &lt;http://bit.ly/TJjs1V&gt;
        var v = (navigator.appVersion).match(/OS (\d+)_(\d+)_?(\d+)?/);
        return [parseInt(v[1], 10), parseInt(v[2], 10), parseInt(v[3] || 0, 10)];
    }
}

var iosVersion = iOSversion();

if (navigator.userAgent.match('CriOS') &amp;&amp; iosVersion[0] == '7') {
   $(document).hammer().on('tap', 'input, textarea', function(e) {
            $('body').addClass('chromefixfixed');
        })
            .on('blur', 'input, textarea', function(){
                body.removeClass('chromefixfixed');
            })
}
</code></pre><span>

</span><p>CSS code: </p><span>

</span><pre><code>.chromefixfixed #drawer {
    display: none;
}
</code></pre><span>

</span><p>Still the question remains: how do I get Chrome on iOS 7 to work like Chrome on Android (without hiding the drawer when keyboard is up)?</p><span>

</span><p>Thanks for the help! </p><span>

    </span></div></div>
<script>var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-34802167-1']); _gaq.push(['_setDomainName', 'liuzhe.co']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })();</script></body>
</html>