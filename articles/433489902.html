<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">

    <link rel='alternate' type='application/rss+xml' title='atom 1.0' href='/feed' />
    <title>基于用户行为分析建立用户偏好模型</title>

    <link href="http://resource.farbox.com/css/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!--[if IE 7]>
    <link href="http://resource.farbox.com/css/font-awesome/css/font-awesome-ie7.min.css" rel="stylesheet" type="text/css" />
    <![endif]-->
    <link rel="stylesheet" href="http://resource.farbox.com/css/default-template-v3.css?version=1377590271">
    <!-- <link rel="stylesheet" href="./css/default-template-v3.css"> -->
    <link rel="stylesheet" href="http://resource.farbox.com/css/basic.css?version=1377590271">
    <style type="text/css">
    #posts p a {
        color: rgb(46, 97, 228);
        border-bottom: 1px dashed #999;
    }
    </style>
	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-26440231-1']);
	  _gaq.push(['_trackPageview']);

	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>
    
    
    
    </head>
<body>



<div id="header" >

    <ul id="nav">
        <li>
            <a href="/">首页</a>
        </li>
    
        <li>
            <a href="/archive">归档</a>
        </li>

        
        <li>
            <a href="/categories">分类</a>
        </li>
        

        
    

        
        
        <li>
            <a href="/links.md">链接</a>
        </li>
        

        
    </ul>
</div>



<div class="container" id="posts">
    <div class="post detail_post">
        <h2 class="title"><a href="/post/ji-zhu/ji-yu-yong-hu-xing-wei-fen-xi-jian-li-yong-hu-pian-hao-mo-xing">基于用户行为分析建立用户偏好模型</a></h2>
        <div class="info">
            <span class="date" title="发布日期">
                <i class="icon-clock"></i>
                2013-09-08 18:23
            </span>
            <span class="visitors" title="访问量">
                <i class="icon-user"></i>
                1724
            </span>

            
        </div>

        <div class="post_body">
            <p>我们经常将个性化推荐的思想简单地抽象为：通过<code>用户的行为</code>推测出<code>用户的兴趣</code>，从而给用户推荐满足他们兴趣的物品。那我们其实就是要通过用户行为分析建立一个<code>用户偏好（偏好即兴趣）模型</code>，模型中包含各个用户的一个或更多个偏好。</p>
<h2 id="_1">插叙一段</h2>
<p>像「用户行为」，「用户兴趣」这样的词，大多数人都有一个默认的感知，甚至对于这种词的理解可能已固化为常识，所以我很少见到有文章使用这些词时解释它们。我感觉涉及到算法模型时，对这些词的不加限定的宽泛认知就容易影响对算法模型的深入理解，会导致感知模糊却不自知。因为不同人对这些词的基本理解可能一致，但是拓展理解各不相同。本文会作出限定解释，且本文所谈用户行为都是指网络（可以是电信网络，互联网）上的行为。</p>
<h2 id="_2">概念解释</h2>
<h3 id="_3">实体域</h3>
<p>当我们想基于用户行为分析来建立用户偏好模型时，我们必须把用户行为和兴趣主题限定在一个实体域上。个性化推荐落实在具体的推荐中都是在某个实体域的推荐。比如对于阅读网站，实体域包括所有的图书，我们可以称之为图书域。其他还有，个性化音乐推荐，个性化电影推荐，个性化资讯推荐等。</p>
<h3 id="_4">用户行为</h3>
<p>用户在门户网站点击资讯，评论资讯，在社交网站发布状态，评论状态，在电商网站浏览商品，购买商品，点评商品，以及在其他类型网站的种种行为都可是用户行为。本文所指的用户行为都是指用户在某实体域上的行为。比如用户在图书域产生的行为有阅读，购买，评分，评论等。</p>
<h3 id="_5">兴趣主题</h3>
<p>用户的兴趣维度，同样是限定在某实体域的兴趣，通常可以以标签的形式来表示。比如，对于图书阅读，兴趣主题可以是「悬疑」，「科技」，「情感」等等分类标签。值得一提的是，兴趣主题，只是从用户行为中抽象出来的兴趣维度，并无统一标准。比如qq阅读和豆瓣阅读的图书分类标签大不一样。而兴趣维度的粒度也不固定，就像门户网站有「新闻」，「体育」，「娱乐」等一级分类，而新闻下有「国内」，「社会」，「国际」二级分类，娱乐下有「明星」，「星座」，「八卦」二级分类。我们选取什么粒度的兴趣空间取决于我们对用户偏好模型的要求。</p>
<h3 id="_6">兴趣空间</h3>
<p>在同一层次上兴趣维度的集合，比如豆瓣阅读中，可以用「新上架」，「热门」，「特价」，「免费」来构成一个兴趣空间（当然，如果使用这个兴趣空间来表征用户的兴趣，就太粗了，这里只是假设），也可以用「小说」，「幻想」，「计算机」，「科技」，「历史」·····「美食」构成一个兴趣空间。这是两种不同的分类维度。如果将「新上架」也加入到后者集合里，就显然有些莫名其妙。值得一提是，这也并非不可能，这取决于一个如何看待这个集合的问题，如果不把它看作基于内容的分类，而是图书标签库，那么也是可行的，甚至利于建立更好地模型。本文后面我有提到。</p>
<h3 id="_7">用户行为数据</h3>
<p>项亮在他的《推荐系统实践》的2.1节有详细介绍。通常在经过对行为日志的汇总处理后生成的比较容易理解的数据就是一份描述用户行为的会话日志。这种日志记录了用户的各种行为，比如在图书阅读app中这些行为主要包括点击，试读，购买，阅读（在本地app中，阅读行为有可能追踪不到），评分，评论。</p>
<h2 id="_8">建立用户偏好模型</h2>
<p>基于用户行为分析建立用户偏好模型的核心工作就是：<strong>将用户的行为转换为用户的偏好</strong>。<br />
我们采用矩阵运算的思维方式，以图书阅读为例说明。<br />
下图表示用户（user）集合：<br />
<img alt="" src="https://lh4.googleusercontent.com/-XZpEm9Mqr2U/Uiw1IeKA3-I/AAAAAAAAD8M/MTRYe7c4plA/w150-h29-no/daum_equation_1378628183265.png" /><br />
下图表示图书（item）集合：<br />
<img alt="" src="https://lh5.googleusercontent.com/-mPME0_cLU6I/Uiw1IXXCd4I/AAAAAAAAD8I/wCxTObSCpcs/w151-h29-no/daum_equation_1378628256492.png" /><br />
那么用户的行为矩阵可以表达为：<br />
<img alt="" src="https://lh4.googleusercontent.com/-_KLtbFDUgVA/Uiww_Gp0u9I/AAAAAAAAD6k/1pIJBQArUrI/w176-h141-no/daum_equation_1378621163291.png" /><br />
行表示用户，列表示图书，我们暂只考虑图书的购买行为，1表示用户看过该图书，0表示用户没有看过该图书。</p>
<p>如何将上述用户行为矩阵转化为用户兴趣矩阵（即行代表用户，列代表兴趣维度），一种显著的方法是我们先确定图书与兴趣维度的对应关系矩阵。而这个的前提是我们确定了使用何种兴趣空间。一种常见的方式是专家给出一些样本的分类结果，也就是一般意义的训练数据，然